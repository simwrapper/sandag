(function(){"use strict";var sa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function oa(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var t=function i(){return this instanceof i?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var r=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return e[i]}})}),t}var qn={exports:{}};/* @license
Papa Parse
v5.3.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,n){(function(t,i){e.exports=i()})(sa,function t(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},r=!i.document&&!!i.postMessage,s=r&&/blob:/i.test((i.location||{}).protocol),a={},o=0,u={},l=[];if(u.parse=function(d,h){var c=(h=h||{}).dynamicTyping||!1;if(x(c)&&(h.dynamicTypingFunction=c,c={}),h.dynamicTyping=c,h.transform=!!x(h.transform)&&h.transform,h.worker&&u.WORKERS_SUPPORTED){var E=function(){if(!u.WORKERS_SUPPORTED)return!1;var z=(w=i.URL||i.webkitURL||null,G=t.toString(),u.BLOB_URL||(u.BLOB_URL=w.createObjectURL(new Blob(["(",G,")();"],{type:"text/javascript"})))),g=new i.Worker(z),w,G;return g.onmessage=L,g.id=o++,a[g.id]=g}();return E.userStep=h.step,E.userChunk=h.chunk,E.userComplete=h.complete,E.userError=h.error,h.step=x(h.step),h.chunk=x(h.chunk),h.complete=x(h.complete),h.error=x(h.error),delete h.worker,void E.postMessage({input:d,config:h,workerId:E.id})}var S=null;return u.NODE_STREAM_INPUT,typeof d=="string"?S=h.download?new _(h):new y(h):d.readable===!0&&x(d.read)&&x(d.on)?S=new A(h):(i.File&&d instanceof File||d instanceof Object)&&(S=new p(h)),S.stream(d)},u.unparse=function(d,h){var c=!1,E=!0,S=",",z=`\r
`,g='"',w=g+g,G=!1,m=null,W=!1;(function(){if(typeof h=="object"){if(typeof h.delimiter!="string"||u.BAD_DELIMITERS.filter(function(I){return h.delimiter.indexOf(I)!==-1}).length||(S=h.delimiter),(typeof h.quotes=="boolean"||typeof h.quotes=="function"||Array.isArray(h.quotes))&&(c=h.quotes),typeof h.skipEmptyLines!="boolean"&&typeof h.skipEmptyLines!="string"||(G=h.skipEmptyLines),typeof h.newline=="string"&&(z=h.newline),typeof h.quoteChar=="string"&&(g=h.quoteChar),typeof h.header=="boolean"&&(E=h.header),Array.isArray(h.columns)){if(h.columns.length===0)throw new Error("Option columns is empty");m=h.columns}h.escapeChar!==void 0&&(w=h.escapeChar+g),(typeof h.escapeFormulae=="boolean"||h.escapeFormulae instanceof RegExp)&&(W=h.escapeFormulae instanceof RegExp?h.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var D=new RegExp(C(g),"g");if(typeof d=="string"&&(d=JSON.parse(d)),Array.isArray(d)){if(!d.length||Array.isArray(d[0]))return V(null,d,G);if(typeof d[0]=="object")return V(m||Object.keys(d[0]),d,G)}else if(typeof d=="object")return typeof d.data=="string"&&(d.data=JSON.parse(d.data)),Array.isArray(d.data)&&(d.fields||(d.fields=d.meta&&d.meta.fields||m),d.fields||(d.fields=Array.isArray(d.data[0])?d.fields:typeof d.data[0]=="object"?Object.keys(d.data[0]):[]),Array.isArray(d.data[0])||typeof d.data[0]=="object"||(d.data=[d.data])),V(d.fields||[],d.data||[],G);throw new Error("Unable to serialize unrecognized input");function V(I,q,ee){var N="";typeof I=="string"&&(I=JSON.parse(I)),typeof q=="string"&&(q=JSON.parse(q));var te=Array.isArray(I)&&0<I.length,ie=!Array.isArray(q[0]);if(te&&E){for(var R=0;R<I.length;R++)0<R&&(N+=S),N+=re(I[R],R);0<q.length&&(N+=z)}for(var T=0;T<q.length;T++){var v=te?I.length:q[T].length,H=!1,P=te?Object.keys(q[T]).length===0:q[T].length===0;if(ee&&!te&&(H=ee==="greedy"?q[T].join("").trim()==="":q[T].length===1&&q[T][0].length===0),ee==="greedy"&&te){for(var F=[],B=0;B<v;B++){var Q=ie?I[B]:B;F.push(q[T][Q])}H=F.join("").trim()===""}if(!H){for(var Z=0;Z<v;Z++){0<Z&&!P&&(N+=S);var Fe=te&&ie?I[Z]:Z;N+=re(q[T][Fe],Z)}T<q.length-1&&(!ee||0<v&&!P)&&(N+=z)}}return N}function re(I,q){if(I==null)return"";if(I.constructor===Date)return JSON.stringify(I).slice(1,25);var ee=!1;W&&typeof I=="string"&&W.test(I)&&(I="'"+I,ee=!0);var N=I.toString().replace(D,w);return(ee=ee||c===!0||typeof c=="function"&&c(I,q)||Array.isArray(c)&&c[q]||function(te,ie){for(var R=0;R<ie.length;R++)if(-1<te.indexOf(ie[R]))return!0;return!1}(N,u.BAD_DELIMITERS)||-1<N.indexOf(S)||N.charAt(0)===" "||N.charAt(N.length-1)===" ")?g+N+g:N}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!r&&!!i.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=M,u.ParserHandle=O,u.NetworkStreamer=_,u.FileStreamer=p,u.StringStreamer=y,u.ReadableStreamStreamer=A,i.jQuery){var f=i.jQuery;f.fn.parse=function(d){var h=d.config||{},c=[];return this.each(function(z){if(!(f(this).prop("tagName").toUpperCase()==="INPUT"&&f(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var g=0;g<this.files.length;g++)c.push({file:this.files[g],inputElem:this,instanceConfig:f.extend({},h)})}),E(),this;function E(){if(c.length!==0){var z,g,w,G,m=c[0];if(x(d.before)){var W=d.before(m.file,m.inputElem);if(typeof W=="object"){if(W.action==="abort")return z="AbortError",g=m.file,w=m.inputElem,G=W.reason,void(x(d.error)&&d.error({name:z},g,w,G));if(W.action==="skip")return void S();typeof W.config=="object"&&(m.instanceConfig=f.extend(m.instanceConfig,W.config))}else if(W==="skip")return void S()}var D=m.instanceConfig.complete;m.instanceConfig.complete=function(V){x(D)&&D(V,m.file,m.inputElem),S()},u.parse(m.file,m.instanceConfig)}else x(d.complete)&&d.complete()}function S(){c.splice(0,1),E()}}}function b(d){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],comments:[],meta:{}},function(h){var c=X(h);c.chunkSize=parseInt(c.chunkSize),h.step||h.chunk||(c.chunkSize=null),this._handle=new O(c),(this._handle.streamer=this)._config=c}.call(this,d),this.parseChunk=function(h,c){if(this.isFirstChunk&&x(this._config.beforeFirstChunk)){var E=this._config.beforeFirstChunk(h);E!==void 0&&(h=E)}this.isFirstChunk=!1,this._halted=!1;var S=this._partialLine+h;this._partialLine="";var z=this._handle.parse(S,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var g=z.meta.cursor;this._finished||(this._partialLine=S.substring(g-this._baseIndex),this._baseIndex=g),z&&z.data&&(this._rowCount+=z.data.length);var w=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(s)i.postMessage({results:z,workerId:u.WORKER_ID,finished:w});else if(x(this._config.chunk)&&!c){if(this._config.chunk(z,this._handle),l=[],this._handle.paused()||this._handle.aborted())return void(this._halted=!0);z=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(z.data),this._completeResults.errors=this._completeResults.errors.concat(z.errors),this._completeResults.comments=this._completeResults.comments.concat(z.comments),this._completeResults.meta=z.meta),this._completed||!w||!x(this._config.complete)||z&&z.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),w||z&&z.meta.paused||this._nextChunk(),z}this._halted=!0},this._sendError=function(h){x(this._config.error)?this._config.error(h):s&&this._config.error&&i.postMessage({workerId:u.WORKER_ID,error:h,finished:!1})}}function _(d){var h;(d=d||{}).chunkSize||(d.chunkSize=u.RemoteChunkSize),b.call(this,d),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(c){this._input=c,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(h=new XMLHttpRequest,this._config.withCredentials&&(h.withCredentials=this._config.withCredentials),r||(h.onload=$(this._chunkLoaded,this),h.onerror=$(this._chunkError,this)),h.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var c=this._config.downloadRequestHeaders;for(var E in c)h.setRequestHeader(E,c[E])}if(this._config.chunkSize){var S=this._start+this._config.chunkSize-1;h.setRequestHeader("Range","bytes="+this._start+"-"+S)}try{h.send(this._config.downloadRequestBody)}catch(z){this._chunkError(z.message)}r&&h.status===0&&this._chunkError()}},this._chunkLoaded=function(){var c;h.readyState===4&&(h.status<200||400<=h.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:h.responseText.length,this._finished=!this._config.chunkSize||this._start>=((c=h.getResponseHeader("Content-Range"))!==null?parseInt(c.substring(c.lastIndexOf("/")+1)):-1),this.parseChunk(h.responseText)))},this._chunkError=function(c){var E=h.statusText||c;this._sendError(new Error(E))}}function p(d){var h,c;(d=d||{}).chunkSize||(d.chunkSize=u.LocalChunkSize),b.call(this,d);var E=typeof FileReader<"u";this.stream=function(S){this._input=S,c=S.slice||S.webkitSlice||S.mozSlice,E?((h=new FileReader).onload=$(this._chunkLoaded,this),h.onerror=$(this._chunkError,this)):h=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var S=this._input;if(this._config.chunkSize){var z=Math.min(this._start+this._config.chunkSize,this._input.size);S=c.call(S,this._start,z)}var g=h.readAsText(S,this._config.encoding);E||this._chunkLoaded({target:{result:g}})},this._chunkLoaded=function(S){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(S.target.result)},this._chunkError=function(){this._sendError(h.error)}}function y(d){var h;b.call(this,d=d||{}),this.stream=function(c){return h=c,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var c,E=this._config.chunkSize;return h=E?(c=h.substring(0,E),h.substring(E)):(c=h,""),this._finished=!h,this.parseChunk(c)}}}function A(d){b.call(this,d=d||{});var h=[],c=!0,E=!1;this.pause=function(){b.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){b.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(S){this._input=S,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){E&&h.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),h.length?this.parseChunk(h.shift()):c=!0},this._streamData=$(function(S){try{h.push(typeof S=="string"?S:S.toString(this._config.encoding)),c&&(c=!1,this._checkIsFinished(),this.parseChunk(h.shift()))}catch(z){this._streamError(z)}},this),this._streamError=$(function(S){this._streamCleanUp(),this._sendError(S)},this),this._streamEnd=$(function(){this._streamCleanUp(),E=!0,this._streamData("")},this),this._streamCleanUp=$(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function O(d){var h,c,E,S=Math.pow(2,53),z=-S,g=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,w=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,G=this,m=0,W=0,D=!1,V=!1,re=[],I={data:[],errors:[],comments:[],meta:{}};if(x(d.step)){var q=d.step;d.step=function(T){if(I=T,te())N();else{if(N(),I.data.length===0)return;m+=T.data.length,d.preview&&m>d.preview?c.abort():(I.data=I.data[0],q(I,G))}}}function ee(T){return d.skipEmptyLines==="greedy"?T.join("").trim()==="":T.length===1&&T[0].length===0}function N(){return I&&E&&(R("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),E=!1),d.skipEmptyLines&&(I.data=I.data.filter(function(T){return!ee(T)})),te()&&function(){if(!I)return;function T(H,P){x(d.transformHeader)&&(H=d.transformHeader(H,P)),re.push(H)}if(Array.isArray(I.data[0])){for(var v=0;te()&&v<I.data.length;v++)I.data[v].forEach(T);I.data.splice(0,1)}else I.data.forEach(T)}(),function(){if(!I||!d.header&&!d.dynamicTyping&&!d.transform)return I;function T(H,P){var F,B=d.header?{}:[];for(F=0;F<H.length;F++){var Q=F,Z=H[F];d.header&&(Q=F>=re.length?"__parsed_extra":re[F]),d.transform&&(Z=d.transform(Z,Q)),Z=ie(Q,Z),Q==="__parsed_extra"?(B[Q]=B[Q]||[],B[Q].push(Z)):B[Q]=Z}return d.header&&(F>re.length?R("FieldMismatch","TooManyFields","Too many fields: expected "+re.length+" fields but parsed "+F,W+P):F<re.length&&R("FieldMismatch","TooFewFields","Too few fields: expected "+re.length+" fields but parsed "+F,W+P)),B}var v=1;return!I.data.length||Array.isArray(I.data[0])?(I.data=I.data.map(T),v=I.data.length):I.data=T(I.data,0),d.header&&I.meta&&(I.meta.fields=re),W+=v,I}()}function te(){return d.header&&re.length===0}function ie(T,v){return H=T,d.dynamicTypingFunction&&d.dynamicTyping[H]===void 0&&(d.dynamicTyping[H]=d.dynamicTypingFunction(H)),(d.dynamicTyping[H]||d.dynamicTyping)===!0?v==="true"||v==="TRUE"||v!=="false"&&v!=="FALSE"&&(v.startsWith('"')?v.slice(1):function(P){if(g.test(P)){var F=parseFloat(P);if(z<F&&F<S)return!0}return!1}(v)?parseFloat(v):w.test(v)?new Date(v):v===""?null:v):v;var H}function R(T,v,H,P){var F={type:T,code:v,message:H};P!==void 0&&(F.row=P),I.errors.push(F)}this.parse=function(T,v,H){var P=d.quoteChar||'"';if(d.newline||(d.newline=function(Q,Z){Q=Q.substring(0,1048576);var Fe=new RegExp(C(Z)+"([^]*?)"+C(Z),"gm"),we=(Q=Q.replace(Fe,"")).split("\r"),pe=Q.split(`
`),Me=1<pe.length&&pe[0].length<we[0].length;if(we.length===1||Me)return`
`;for(var Re=0,ge=0;ge<we.length;ge++)we[ge][0]===`
`&&Re++;return Re>=we.length/2?`\r
`:"\r"}(T,P)),E=!1,d.delimiter)x(d.delimiter)&&(d.delimiter=d.delimiter(T),I.meta.delimiter=d.delimiter);else{var F=function(Q,Z,Fe,we,pe){var Me,Re,ge,le;pe=pe||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var Ue=0;Ue<pe.length;Ue++){var fe=pe[Ue],Be=0,$e=0,aa=0;ge=void 0;for(var Tt=new M({comments:we,delimiter:fe,newline:Z,preview:10}).parse(Q),nn=0;nn<Tt.data.length;nn++)if(Fe&&ee(Tt.data[nn]))aa++;else{var $t=Tt.data[nn].length;$e+=$t,ge!==void 0?0<$t&&(Be+=Math.abs($t-ge),ge=$t):ge=$t}0<Tt.data.length&&($e/=Tt.data.length-aa),(Re===void 0||Be<=Re)&&(le===void 0||le<$e)&&1.99<$e&&(Re=Be,Me=fe,le=$e)}return{successful:!!(d.delimiter=Me),bestDelimiter:Me}}(T,d.newline,d.skipEmptyLines,d.comments,d.delimitersToGuess);F.successful?d.delimiter=F.bestDelimiter:(E=!0,d.delimiter=u.DefaultDelimiter),I.meta.delimiter=d.delimiter}var B=X(d);return d.preview&&d.header&&B.preview++,h=T,c=new M(B),I=c.parse(h,v,H),N(),D?{meta:{paused:!0}}:I||{meta:{paused:!1}}},this.paused=function(){return D},this.pause=function(){D=!0,c.abort(),h=x(d.chunk)?"":h.substring(c.getCharIndex())},this.resume=function(){G.streamer._halted?(D=!1,G.streamer.parseChunk(h,!0)):setTimeout(G.resume,3)},this.aborted=function(){return V},this.abort=function(){V=!0,c.abort(),I.meta.aborted=!0,x(d.complete)&&d.complete(I),h=""}}function C(d){return d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function M(d){var h,c=(d=d||{}).delimiter,E=d.newline,S=d.comments,z=d.step,g=d.preview,w=d.fastMode,G=h=d.quoteChar===void 0||d.quoteChar===null?'"':d.quoteChar;if(d.escapeChar!==void 0&&(G=d.escapeChar),(typeof c!="string"||-1<u.BAD_DELIMITERS.indexOf(c))&&(c=","),S===c)throw new Error("Comment character same as delimiter");S===!0?S="#":(typeof S!="string"||-1<u.BAD_DELIMITERS.indexOf(S))&&(S=!1),E!==`
`&&E!=="\r"&&E!==`\r
`&&(E=`
`);var m=0,W=!1;this.parse=function(D,V,re){if(typeof D!="string")throw new Error("Input must be a string");var I=D.length,q=c.length,ee=E.length,N=S.length,te=x(z),ie=[],R=[],T=[],v=m=0;if(!D)return le();if(w||w!==!1&&D.indexOf(h)===-1){for(var H=D.split(E),P=0;P<H.length;P++){if(T=H[P],m+=T.length,P!==H.length-1)m+=E.length;else if(re)return le();if(S&&T.substring(0,N)===S)l.push(T);else{if(te){if(ie=[],pe(T.split(c)),Ue(),W)return le()}else pe(T.split(c));if(g&&g<=P)return ie=ie.slice(0,g),le(!0)}}return le()}for(var F=D.indexOf(c,m),B=D.indexOf(E,m),Q=new RegExp(C(G)+C(h),"g"),Z=D.indexOf(h,m);;)if(D[m]!==h)if(S&&T.length===0&&D.substring(m,m+N)===S){if(B===-1)return le();m=B+ee,B=D.indexOf(E,m),F=D.indexOf(c,m)}else if(F!==-1&&(F<B||B===-1))T.push(D.substring(m,F)),m=F+q,F=D.indexOf(c,m);else{if(B===-1)break;if(T.push(D.substring(m,B)),ge(B+ee),te&&(Ue(),W))return le();if(g&&ie.length>=g)return le(!0)}else for(Z=m,m++;;){if((Z=D.indexOf(h,Z+1))===-1)return re||R.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ie.length,index:m}),Re();if(Z===I-1)return Re(D.substring(m,Z).replace(Q,h));if(h!==G||D[Z+1]!==G){if(h===G||Z===0||D[Z-1]!==G){F!==-1&&F<Z+1&&(F=D.indexOf(c,Z+1)),B!==-1&&B<Z+1&&(B=D.indexOf(E,Z+1));var Fe=Me(B===-1?F:Math.min(F,B));if(D.substr(Z+1+Fe,q)===c){T.push(D.substring(m-1,Z).replace(Q,h)),D[m=Z+1+Fe+q]!==h&&(Z=D.indexOf(h,m)),F=D.indexOf(c,m),B=D.indexOf(E,m);break}var we=Me(B);if(D.substring(Z+1+we,Z+1+we+ee)===E){if(T.push(D.substring(m-1,Z).replace(Q,h)),ge(Z+1+we+ee),F=D.indexOf(c,m),Z=D.indexOf(h,m),te&&(Ue(),W))return le();if(g&&ie.length>=g)return le(!0);break}R.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ie.length,index:m}),Z++}}else Z++}return Re();function pe(fe){ie.push(fe),v=m}function Me(fe){var Be=0;if(fe!==-1){var $e=D.substring(Z+1,fe);$e&&$e.trim()===""&&(Be=$e.length)}return Be}function Re(fe){return re||(fe===void 0&&(fe=D.substring(m)),T.push(fe),m=I,pe(T),te&&Ue()),le()}function ge(fe){m=fe,pe(T),T=[],B=D.indexOf(E,m)}function le(fe){var Be=JSON.parse(JSON.stringify(l));return{data:ie,errors:R,comments:Be,meta:{delimiter:c,linebreak:E,aborted:W,truncated:!!fe,cursor:v+(V||0)}}}function Ue(){z(le()),ie=[],R=[]}},this.abort=function(){W=!0},this.getCharIndex=function(){return m}}function L(d){var h=d.data,c=a[h.workerId],E=!1;if(h.error)c.userError(h.error,h.file);else if(h.results&&h.results.data){var S={abort:function(){E=!0,k(h.workerId,{data:[],comments:[],errors:[],meta:{aborted:!0}})},pause:U,resume:U};if(x(c.userStep)){for(var z=0;z<h.results.data.length&&(c.userStep({data:h.results.data[z],errors:h.results.errors,comments:h.results.comments,meta:h.results.meta},S),!E);z++);delete h.results}else x(c.userChunk)&&(c.userChunk(h.results,S,h.file),delete h.results)}h.finished&&!E&&k(h.workerId,h.results)}function k(d,h){var c=a[d];x(c.userComplete)&&c.userComplete(h),c.terminate(),delete a[d]}function U(){throw new Error("Not implemented.")}function X(d){if(typeof d!="object"||d===null)return d;var h=Array.isArray(d)?[]:{};for(var c in d)h[c]=X(d[c]);return h}function $(d,h){return function(){d.apply(h,arguments)}}function x(d){return typeof d=="function"}return s&&(i.onmessage=function(d){var h=d.data;if(u.WORKER_ID===void 0&&h&&(u.WORKER_ID=h.workerId),typeof h.input=="string")i.postMessage({workerId:u.WORKER_ID,results:u.parse(h.input,h.config),finished:!0});else if(i.File&&h.input instanceof File||h.input instanceof Object){var c=u.parse(h.input,h.config);c&&i.postMessage({workerId:u.WORKER_ID,results:c,finished:!0})}}),(_.prototype=Object.create(b.prototype)).constructor=_,(p.prototype=Object.create(b.prototype)).constructor=p,(y.prototype=Object.create(y.prototype)).constructor=y,(A.prototype=Object.create(b.prototype)).constructor=A,u})})(qn);var la=qn.exports,fa=rn(la),ua={},ca=Object.freeze({__proto__:null,default:ua}),Qn=oa(ca),Ot={};(function(e){e.isInteger=n=>typeof n=="number"?Number.isInteger(n):typeof n=="string"&&n.trim()!==""?Number.isInteger(Number(n)):!1,e.find=(n,t)=>n.nodes.find(i=>i.type===t),e.exceedsLimit=(n,t,i=1,r)=>r===!1||!e.isInteger(n)||!e.isInteger(t)?!1:(Number(t)-Number(n))/Number(i)>=r,e.escapeNode=(n,t=0,i)=>{const r=n.nodes[t];r&&(i&&r.type===i||r.type==="open"||r.type==="close")&&r.escaped!==!0&&(r.value="\\"+r.value,r.escaped=!0)},e.encloseBrace=n=>n.type!=="brace"||n.commas>>0+n.ranges>>0?!1:(n.invalid=!0,!0),e.isInvalidBrace=n=>n.type!=="brace"?!1:n.invalid===!0||n.dollar?!0:!(n.commas>>0+n.ranges>>0)||n.open!==!0||n.close!==!0?(n.invalid=!0,!0):!1,e.isOpenOrClose=n=>n.type==="open"||n.type==="close"?!0:n.open===!0||n.close===!0,e.reduce=n=>n.reduce((t,i)=>(i.type==="text"&&t.push(i.value),i.type==="range"&&(i.type="text"),t),[]),e.flatten=(...n)=>{const t=[],i=r=>{for(let s=0;s<r.length;s++){const a=r[s];if(Array.isArray(a)){i(a);continue}a!==void 0&&t.push(a)}return t};return i(n),t}})(Ot);const Yn=Ot;var an=(e,n={})=>{const t=(i,r={})=>{const s=n.escapeInvalid&&Yn.isInvalidBrace(r),a=i.invalid===!0&&n.escapeInvalid===!0;let o="";if(i.value)return(s||a)&&Yn.isOpenOrClose(i)?"\\"+i.value:i.value;if(i.value)return i.value;if(i.nodes)for(const u of i.nodes)o+=t(u);return o};return t(e)};/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */var ha=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1};/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const Jn=ha,Ze=(e,n,t)=>{if(Jn(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(n===void 0||e===n)return String(e);if(Jn(n)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let i={relaxZeros:!0,...t};typeof i.strictZeros=="boolean"&&(i.relaxZeros=i.strictZeros===!1);let r=String(i.relaxZeros),s=String(i.shorthand),a=String(i.capture),o=String(i.wrap),u=e+":"+n+"="+r+s+a+o;if(Ze.cache.hasOwnProperty(u))return Ze.cache[u].result;let l=Math.min(e,n),f=Math.max(e,n);if(Math.abs(l-f)===1){let A=e+"|"+n;return i.capture?`(${A})`:i.wrap===!1?A:`(?:${A})`}let b=ir(e)||ir(n),_={min:e,max:n,a:l,b:f},p=[],y=[];if(b&&(_.isPadded=b,_.maxLen=String(_.max).length),l<0){let A=f<0?Math.abs(f):1;y=Vn(A,Math.abs(l),_,i),l=_.a=0}return f>=0&&(p=Vn(l,f,_,i)),_.negatives=y,_.positives=p,_.result=da(y,p),i.capture===!0?_.result=`(${_.result})`:i.wrap!==!1&&p.length+y.length>1&&(_.result=`(?:${_.result})`),Ze.cache[u]=_,_.result};function da(e,n,t){let i=sn(e,n,"-",!1)||[],r=sn(n,e,"",!1)||[],s=sn(e,n,"-?",!0)||[];return i.concat(s).concat(r).join("|")}function _a(e,n){let t=1,i=1,r=tr(e,t),s=new Set([n]);for(;e<=r&&r<=n;)s.add(r),t+=1,r=tr(e,t);for(r=nr(n+1,i)-1;e<r&&r<=n;)s.add(r),i+=1,r=nr(n+1,i)-1;return s=[...s],s.sort(ba),s}function pa(e,n,t){if(e===n)return{pattern:e,count:[],digits:0};let i=ga(e,n),r=i.length,s="",a=0;for(let o=0;o<r;o++){let[u,l]=i[o];u===l?s+=u:u!=="0"||l!=="9"?s+=wa(u,l):a++}return a&&(s+=t.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[a],digits:r}}function Vn(e,n,t,i){let r=_a(e,n),s=[],a=e,o;for(let u=0;u<r.length;u++){let l=r[u],f=pa(String(a),String(l),i),b="";if(!t.isPadded&&o&&o.pattern===f.pattern){o.count.length>1&&o.count.pop(),o.count.push(f.count[0]),o.string=o.pattern+rr(o.count),a=l+1;continue}t.isPadded&&(b=ya(l,t,i)),f.string=b+f.pattern+rr(f.count),s.push(f),a=l+1,o=f}return s}function sn(e,n,t,i,r){let s=[];for(let a of e){let{string:o}=a;!i&&!er(n,"string",o)&&s.push(t+o),i&&er(n,"string",o)&&s.push(t+o)}return s}function ga(e,n){let t=[];for(let i=0;i<e.length;i++)t.push([e[i],n[i]]);return t}function ba(e,n){return e>n?1:n>e?-1:0}function er(e,n,t){return e.some(i=>i[n]===t)}function tr(e,n){return Number(String(e).slice(0,-n)+"9".repeat(n))}function nr(e,n){return e-e%Math.pow(10,n)}function rr(e){let[n=0,t=""]=e;return t||n>1?`{${n+(t?","+t:"")}}`:""}function wa(e,n,t){return`[${e}${n-e===1?"":"-"}${n}]`}function ir(e){return/^-?(0+)\d/.test(e)}function ya(e,n,t){if(!n.isPadded)return e;let i=Math.abs(n.maxLen-String(e).length),r=t.relaxZeros!==!1;switch(i){case 0:return"";case 1:return r?"0?":"0";case 2:return r?"0{0,2}":"00";default:return r?`0{0,${i}}`:`0{${i}}`}}Ze.cache={},Ze.clearCache=()=>Ze.cache={};var va=Ze;/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const Aa=Qn,ar=va,sr=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),xa=e=>n=>e===!0?Number(n):String(n),on=e=>typeof e=="number"||typeof e=="string"&&e!=="",ot=e=>Number.isInteger(+e),ln=e=>{let n=`${e}`,t=-1;if(n[0]==="-"&&(n=n.slice(1)),n==="0")return!1;for(;n[++t]==="0";);return t>0},ma=(e,n,t)=>typeof e=="string"||typeof n=="string"?!0:t.stringify===!0,Ea=(e,n,t)=>{if(n>0){let i=e[0]==="-"?"-":"";i&&(e=e.slice(1)),e=i+e.padStart(i?n-1:n,"0")}return t===!1?String(e):e},Lt=(e,n)=>{let t=e[0]==="-"?"-":"";for(t&&(e=e.slice(1),n--);e.length<n;)e="0"+e;return t?"-"+e:e},Ra=(e,n,t)=>{e.negatives.sort((o,u)=>o<u?-1:o>u?1:0),e.positives.sort((o,u)=>o<u?-1:o>u?1:0);let i=n.capture?"":"?:",r="",s="",a;return e.positives.length&&(r=e.positives.map(o=>Lt(String(o),t)).join("|")),e.negatives.length&&(s=`-(${i}${e.negatives.map(o=>Lt(String(o),t)).join("|")})`),r&&s?a=`${r}|${s}`:a=r||s,n.wrap?`(${i}${a})`:a},or=(e,n,t,i)=>{if(t)return ar(e,n,{wrap:!1,...i});let r=String.fromCharCode(e);if(e===n)return r;let s=String.fromCharCode(n);return`[${r}-${s}]`},lr=(e,n,t)=>{if(Array.isArray(e)){let i=t.wrap===!0,r=t.capture?"":"?:";return i?`(${r}${e.join("|")})`:e.join("|")}return ar(e,n,t)},fr=(...e)=>new RangeError("Invalid range arguments: "+Aa.inspect(...e)),ur=(e,n,t)=>{if(t.strictRanges===!0)throw fr([e,n]);return[]},Sa=(e,n)=>{if(n.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},ka=(e,n,t=1,i={})=>{let r=Number(e),s=Number(n);if(!Number.isInteger(r)||!Number.isInteger(s)){if(i.strictRanges===!0)throw fr([e,n]);return[]}r===0&&(r=0),s===0&&(s=0);let a=r>s,o=String(e),u=String(n),l=String(t);t=Math.max(Math.abs(t),1);let f=ln(o)||ln(u)||ln(l),b=f?Math.max(o.length,u.length,l.length):0,_=f===!1&&ma(e,n,i)===!1,p=i.transform||xa(_);if(i.toRegex&&t===1)return or(Lt(e,b),Lt(n,b),!0,i);let y={negatives:[],positives:[]},A=M=>y[M<0?"negatives":"positives"].push(Math.abs(M)),O=[],C=0;for(;a?r>=s:r<=s;)i.toRegex===!0&&t>1?A(r):O.push(Ea(p(r,C),b,_)),r=a?r-t:r+t,C++;return i.toRegex===!0?t>1?Ra(y,i,b):lr(O,null,{wrap:!1,...i}):O},Ca=(e,n,t=1,i={})=>{if(!ot(e)&&e.length>1||!ot(n)&&n.length>1)return ur(e,n,i);let r=i.transform||(_=>String.fromCharCode(_)),s=`${e}`.charCodeAt(0),a=`${n}`.charCodeAt(0),o=s>a,u=Math.min(s,a),l=Math.max(s,a);if(i.toRegex&&t===1)return or(u,l,!1,i);let f=[],b=0;for(;o?s>=a:s<=a;)f.push(r(s,b)),s=o?s-t:s+t,b++;return i.toRegex===!0?lr(f,null,{wrap:!1,options:i}):f},Ht=(e,n,t,i={})=>{if(n==null&&on(e))return[e];if(!on(e)||!on(n))return ur(e,n,i);if(typeof t=="function")return Ht(e,n,1,{transform:t});if(sr(t))return Ht(e,n,0,t);let r={...i};return r.capture===!0&&(r.wrap=!0),t=t||r.step||1,ot(t)?ot(e)&&ot(n)?ka(e,n,t,r):Ca(e,n,Math.max(Math.abs(t),1),r):t!=null&&!sr(t)?Sa(t,r):Ht(e,n,1,t)};var cr=Ht;const Ta=cr,hr=Ot;var $a=(e,n={})=>{const t=(i,r={})=>{const s=hr.isInvalidBrace(r),a=i.invalid===!0&&n.escapeInvalid===!0,o=s===!0||a===!0,u=n.escapeInvalid===!0?"\\":"";let l="";if(i.isOpen===!0)return u+i.value;if(i.isClose===!0)return console.log("node.isClose",u,i.value),u+i.value;if(i.type==="open")return o?u+i.value:"(";if(i.type==="close")return o?u+i.value:")";if(i.type==="comma")return i.prev.type==="comma"?"":o?i.value:"|";if(i.value)return i.value;if(i.nodes&&i.ranges>0){const f=hr.reduce(i.nodes),b=Ta(...f,{...n,wrap:!1,toRegex:!0,strictZeros:!0});if(b.length!==0)return f.length>1&&b.length>1?`(${b})`:b}if(i.nodes)for(const f of i.nodes)l+=t(f,i);return l};return t(e)};const Oa=cr,dr=an,Ve=Ot,Pe=(e="",n="",t=!1)=>{const i=[];if(e=[].concat(e),n=[].concat(n),!n.length)return e;if(!e.length)return t?Ve.flatten(n).map(r=>`{${r}}`):n;for(const r of e)if(Array.isArray(r))for(const s of r)i.push(Pe(s,n,t));else for(let s of n)t===!0&&typeof s=="string"&&(s=`{${s}}`),i.push(Array.isArray(s)?Pe(r,s,t):r+s);return Ve.flatten(i)};var La=(e,n={})=>{const t=n.rangeLimit===void 0?1e3:n.rangeLimit,i=(r,s={})=>{r.queue=[];let a=s,o=s.queue;for(;a.type!=="brace"&&a.type!=="root"&&a.parent;)a=a.parent,o=a.queue;if(r.invalid||r.dollar){o.push(Pe(o.pop(),dr(r,n)));return}if(r.type==="brace"&&r.invalid!==!0&&r.nodes.length===2){o.push(Pe(o.pop(),["{}"]));return}if(r.nodes&&r.ranges>0){const b=Ve.reduce(r.nodes);if(Ve.exceedsLimit(...b,n.step,t))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let _=Oa(...b,n);_.length===0&&(_=dr(r,n)),o.push(Pe(o.pop(),_)),r.nodes=[];return}const u=Ve.encloseBrace(r);let l=r.queue,f=r;for(;f.type!=="brace"&&f.type!=="root"&&f.parent;)f=f.parent,l=f.queue;for(let b=0;b<r.nodes.length;b++){const _=r.nodes[b];if(_.type==="comma"&&r.type==="brace"){b===1&&l.push(""),l.push("");continue}if(_.type==="close"){o.push(Pe(o.pop(),l,u));continue}if(_.value&&_.type!=="open"){l.push(Pe(l.pop(),_.value));continue}_.nodes&&i(_,r)}return l};return Ve.flatten(i(e))},Ha={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"Â ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"};const Ia=an,{MAX_LENGTH:_r,CHAR_BACKSLASH:fn,CHAR_BACKTICK:Na,CHAR_COMMA:Da,CHAR_DOT:za,CHAR_LEFT_PARENTHESES:Fa,CHAR_RIGHT_PARENTHESES:Ma,CHAR_LEFT_CURLY_BRACE:Ua,CHAR_RIGHT_CURLY_BRACE:Ba,CHAR_LEFT_SQUARE_BRACKET:pr,CHAR_RIGHT_SQUARE_BRACKET:gr,CHAR_DOUBLE_QUOTE:Za,CHAR_SINGLE_QUOTE:Pa,CHAR_NO_BREAK_SPACE:Ga,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Ka}=Ha;var ja=(e,n={})=>{if(typeof e!="string")throw new TypeError("Expected a string");const t=n||{},i=typeof t.maxLength=="number"?Math.min(_r,t.maxLength):_r;if(e.length>i)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${i})`);const r={type:"root",input:e,nodes:[]},s=[r];let a=r,o=r,u=0;const l=e.length;let f=0,b=0,_;const p=()=>e[f++],y=A=>{if(A.type==="text"&&o.type==="dot"&&(o.type="text"),o&&o.type==="text"&&A.type==="text"){o.value+=A.value;return}return a.nodes.push(A),A.parent=a,A.prev=o,o=A,A};for(y({type:"bos"});f<l;)if(a=s[s.length-1],_=p(),!(_===Ka||_===Ga)){if(_===fn){y({type:"text",value:(n.keepEscaping?_:"")+p()});continue}if(_===gr){y({type:"text",value:"\\"+_});continue}if(_===pr){u++;let A;for(;f<l&&(A=p());){if(_+=A,A===pr){u++;continue}if(A===fn){_+=p();continue}if(A===gr&&(u--,u===0))break}y({type:"text",value:_});continue}if(_===Fa){a=y({type:"paren",nodes:[]}),s.push(a),y({type:"text",value:_});continue}if(_===Ma){if(a.type!=="paren"){y({type:"text",value:_});continue}a=s.pop(),y({type:"text",value:_}),a=s[s.length-1];continue}if(_===Za||_===Pa||_===Na){const A=_;let O;for(n.keepQuotes!==!0&&(_="");f<l&&(O=p());){if(O===fn){_+=O+p();continue}if(O===A){n.keepQuotes===!0&&(_+=O);break}_+=O}y({type:"text",value:_});continue}if(_===Ua){b++;const O={type:"brace",open:!0,close:!1,dollar:o.value&&o.value.slice(-1)==="$"||a.dollar===!0,depth:b,commas:0,ranges:0,nodes:[]};a=y(O),s.push(a),y({type:"open",value:_});continue}if(_===Ba){if(a.type!=="brace"){y({type:"text",value:_});continue}const A="close";a=s.pop(),a.close=!0,y({type:A,value:_}),b--,a=s[s.length-1];continue}if(_===Da&&b>0){if(a.ranges>0){a.ranges=0;const A=a.nodes.shift();a.nodes=[A,{type:"text",value:Ia(a)}]}y({type:"comma",value:_}),a.commas++;continue}if(_===za&&b>0&&a.commas===0){const A=a.nodes;if(b===0||A.length===0){y({type:"text",value:_});continue}if(o.type==="dot"){if(a.range=[],o.value+=_,o.type="range",a.nodes.length!==3&&a.nodes.length!==5){a.invalid=!0,a.ranges=0,o.type="text";continue}a.ranges++,a.args=[];continue}if(o.type==="range"){A.pop();const O=A[A.length-1];O.value+=o.value+_,o=O,a.ranges--;continue}y({type:"dot",value:_});continue}y({type:"text",value:_})}do if(a=s.pop(),a.type!=="root"){a.nodes.forEach(C=>{C.nodes||(C.type==="open"&&(C.isOpen=!0),C.type==="close"&&(C.isClose=!0),C.nodes||(C.type="text"),C.invalid=!0)});const A=s[s.length-1],O=A.nodes.indexOf(a);A.nodes.splice(O,1,...a.nodes)}while(s.length>0);return y({type:"eos"}),r};const br=an,Wa=$a,Xa=La,qa=ja,ce=(e,n={})=>{let t=[];if(Array.isArray(e))for(const i of e){const r=ce.create(i,n);Array.isArray(r)?t.push(...r):t.push(r)}else t=[].concat(ce.create(e,n));return n&&n.expand===!0&&n.nodupes===!0&&(t=[...new Set(t)]),t};ce.parse=(e,n={})=>qa(e,n),ce.stringify=(e,n={})=>br(typeof e=="string"?ce.parse(e,n):e,n),ce.compile=(e,n={})=>(typeof e=="string"&&(e=ce.parse(e,n)),Wa(e,n)),ce.expand=(e,n={})=>{typeof e=="string"&&(e=ce.parse(e,n));let t=Xa(e,n);return n.noempty===!0&&(t=t.filter(Boolean)),n.nodupes===!0&&(t=[...new Set(t)]),t},ce.create=(e,n={})=>e===""||e.length<3?[e]:n.expand!==!0?ce.compile(e,n):ce.expand(e,n);var Qa=ce;function ye(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function wr(e,n){for(var t="",i=0,r=-1,s=0,a,o=0;o<=e.length;++o){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(r===o-1||s===1))if(r!==o-1&&s===2){if(t.length<2||i!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var u=t.lastIndexOf("/");if(u!==t.length-1){u===-1?(t="",i=0):(t=t.slice(0,u),i=t.length-1-t.lastIndexOf("/")),r=o,s=0;continue}}else if(t.length===2||t.length===1){t="",i=0,r=o,s=0;continue}}n&&(t.length>0?t+="/..":t="..",i=2)}else t.length>0?t+="/"+e.slice(r+1,o):t=e.slice(r+1,o),i=o-r-1;r=o,s=0}else a===46&&s!==-1?++s:s=-1}return t}function Ya(e,n){var t=n.dir||n.root,i=n.base||(n.name||"")+(n.ext||"");return t?t===n.root?t+i:t+e+i:i}var et={resolve:function(){for(var n="",t=!1,i,r=arguments.length-1;r>=-1&&!t;r--){var s;r>=0?s=arguments[r]:(i===void 0&&(i=process.cwd()),s=i),ye(s),s.length!==0&&(n=s+"/"+n,t=s.charCodeAt(0)===47)}return n=wr(n,!t),t?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(n){if(ye(n),n.length===0)return".";var t=n.charCodeAt(0)===47,i=n.charCodeAt(n.length-1)===47;return n=wr(n,!t),n.length===0&&!t&&(n="."),n.length>0&&i&&(n+="/"),t?"/"+n:n},isAbsolute:function(n){return ye(n),n.length>0&&n.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var n,t=0;t<arguments.length;++t){var i=arguments[t];ye(i),i.length>0&&(n===void 0?n=i:n+="/"+i)}return n===void 0?".":et.normalize(n)},relative:function(n,t){if(ye(n),ye(t),n===t||(n=et.resolve(n),t=et.resolve(t),n===t))return"";for(var i=1;i<n.length&&n.charCodeAt(i)===47;++i);for(var r=n.length,s=r-i,a=1;a<t.length&&t.charCodeAt(a)===47;++a);for(var o=t.length,u=o-a,l=s<u?s:u,f=-1,b=0;b<=l;++b){if(b===l){if(u>l){if(t.charCodeAt(a+b)===47)return t.slice(a+b+1);if(b===0)return t.slice(a+b)}else s>l&&(n.charCodeAt(i+b)===47?f=b:b===0&&(f=0));break}var _=n.charCodeAt(i+b),p=t.charCodeAt(a+b);if(_!==p)break;_===47&&(f=b)}var y="";for(b=i+f+1;b<=r;++b)(b===r||n.charCodeAt(b)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+t.slice(a+f):(a+=f,t.charCodeAt(a)===47&&++a,t.slice(a))},_makeLong:function(n){return n},dirname:function(n){if(ye(n),n.length===0)return".";for(var t=n.charCodeAt(0),i=t===47,r=-1,s=!0,a=n.length-1;a>=1;--a)if(t=n.charCodeAt(a),t===47){if(!s){r=a;break}}else s=!1;return r===-1?i?"/":".":i&&r===1?"//":n.slice(0,r)},basename:function(n,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ye(n);var i=0,r=-1,s=!0,a;if(t!==void 0&&t.length>0&&t.length<=n.length){if(t.length===n.length&&t===n)return"";var o=t.length-1,u=-1;for(a=n.length-1;a>=0;--a){var l=n.charCodeAt(a);if(l===47){if(!s){i=a+1;break}}else u===-1&&(s=!1,u=a+1),o>=0&&(l===t.charCodeAt(o)?--o===-1&&(r=a):(o=-1,r=u))}return i===r?r=u:r===-1&&(r=n.length),n.slice(i,r)}else{for(a=n.length-1;a>=0;--a)if(n.charCodeAt(a)===47){if(!s){i=a+1;break}}else r===-1&&(s=!1,r=a+1);return r===-1?"":n.slice(i,r)}},extname:function(n){ye(n);for(var t=-1,i=0,r=-1,s=!0,a=0,o=n.length-1;o>=0;--o){var u=n.charCodeAt(o);if(u===47){if(!s){i=o+1;break}continue}r===-1&&(s=!1,r=o+1),u===46?t===-1?t=o:a!==1&&(a=1):t!==-1&&(a=-1)}return t===-1||r===-1||a===0||a===1&&t===r-1&&t===i+1?"":n.slice(t,r)},format:function(n){if(n===null||typeof n!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof n);return Ya("/",n)},parse:function(n){ye(n);var t={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return t;var i=n.charCodeAt(0),r=i===47,s;r?(t.root="/",s=1):s=0;for(var a=-1,o=0,u=-1,l=!0,f=n.length-1,b=0;f>=s;--f){if(i=n.charCodeAt(f),i===47){if(!l){o=f+1;break}continue}u===-1&&(l=!1,u=f+1),i===46?a===-1?a=f:b!==1&&(b=1):a!==-1&&(b=-1)}return a===-1||u===-1||b===0||b===1&&a===u-1&&a===o+1?u!==-1&&(o===0&&r?t.base=t.name=n.slice(1,u):t.base=t.name=n.slice(o,u)):(o===0&&r?(t.name=n.slice(1,a),t.base=n.slice(1,u)):(t.name=n.slice(o,a),t.base=n.slice(o,u)),t.ext=n.slice(a,u)),o>0?t.dir=n.slice(0,o-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};et.posix=et;var un=et,lt={};const Ja=un,ve="\\\\/",yr=`[^${ve}]`,Se="\\.",Va="\\+",es="\\?",It="\\/",ts="(?=.)",vr="[^/]",cn=`(?:${It}|$)`,Ar=`(?:^|${It})`,hn=`${Se}{1,2}${cn}`,ns=`(?!${Se})`,rs=`(?!${Ar}${hn})`,is=`(?!${Se}{0,1}${cn})`,as=`(?!${hn})`,ss=`[^.${It}]`,os=`${vr}*?`,xr={DOT_LITERAL:Se,PLUS_LITERAL:Va,QMARK_LITERAL:es,SLASH_LITERAL:It,ONE_CHAR:ts,QMARK:vr,END_ANCHOR:cn,DOTS_SLASH:hn,NO_DOT:ns,NO_DOTS:rs,NO_DOT_SLASH:is,NO_DOTS_SLASH:as,QMARK_NO_DOT:ss,STAR:os,START_ANCHOR:Ar},ls={...xr,SLASH_LITERAL:`[${ve}]`,QMARK:yr,STAR:`${yr}*?`,DOTS_SLASH:`${Se}{1,2}(?:[${ve}]|$)`,NO_DOT:`(?!${Se})`,NO_DOTS:`(?!(?:^|[${ve}])${Se}{1,2}(?:[${ve}]|$))`,NO_DOT_SLASH:`(?!${Se}{0,1}(?:[${ve}]|$))`,NO_DOTS_SLASH:`(?!${Se}{1,2}(?:[${ve}]|$))`,QMARK_NO_DOT:`[^.${ve}]`,START_ANCHOR:`(?:^|[${ve}])`,END_ANCHOR:`(?:[${ve}]|$)`},fs={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var Nt={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:fs,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Ja.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?ls:xr}};(function(e){const n=un,{REGEX_BACKSLASH:t,REGEX_REMOVE_BACKSLASH:i,REGEX_SPECIAL_CHARS:r,REGEX_SPECIAL_CHARS_GLOBAL:s}=Nt;e.isObject=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),e.hasRegexChars=a=>r.test(a),e.isRegexChar=a=>a.length===1&&e.hasRegexChars(a),e.escapeRegex=a=>a.replace(s,"\\$1"),e.toPosixSlashes=a=>a.replace(t,"/"),e.removeBackslashes=a=>a.replace(i,o=>o==="\\"?"":o),e.supportsLookbehinds=()=>{const a=process.version.slice(1).split(".").map(Number);return a.length===3&&a[0]>=9||a[0]===8&&a[1]>=10},e.isWindows=a=>a&&typeof a.windows=="boolean"?a.windows:n.sep==="\\",e.escapeLast=(a,o,u)=>{const l=a.lastIndexOf(o,u);return l===-1?a:a[l-1]==="\\"?e.escapeLast(a,o,l-1):`${a.slice(0,l)}\\${a.slice(l)}`},e.removePrefix=(a,o={})=>{let u=a;return u.startsWith("./")&&(u=u.slice(2),o.prefix="./"),u},e.wrapOutput=(a,o={},u={})=>{const l=u.contains?"":"^",f=u.contains?"":"$";let b=`${l}(?:${a})${f}`;return o.negated===!0&&(b=`(?:^(?!${b}).*$)`),b}})(lt);const mr=lt,{CHAR_ASTERISK:dn,CHAR_AT:us,CHAR_BACKWARD_SLASH:ft,CHAR_COMMA:cs,CHAR_DOT:_n,CHAR_EXCLAMATION_MARK:pn,CHAR_FORWARD_SLASH:Er,CHAR_LEFT_CURLY_BRACE:gn,CHAR_LEFT_PARENTHESES:bn,CHAR_LEFT_SQUARE_BRACKET:hs,CHAR_PLUS:ds,CHAR_QUESTION_MARK:Rr,CHAR_RIGHT_CURLY_BRACE:_s,CHAR_RIGHT_PARENTHESES:Sr,CHAR_RIGHT_SQUARE_BRACKET:ps}=Nt,kr=e=>e===Er||e===ft,Cr=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)};var gs=(e,n)=>{const t=n||{},i=e.length-1,r=t.parts===!0||t.scanToEnd===!0,s=[],a=[],o=[];let u=e,l=-1,f=0,b=0,_=!1,p=!1,y=!1,A=!1,O=!1,C=!1,M=!1,L=!1,k=!1,U=!1,X=0,$,x,d={value:"",depth:0,isGlob:!1};const h=()=>l>=i,c=()=>u.charCodeAt(l+1),E=()=>($=x,u.charCodeAt(++l));for(;l<i;){x=E();let G;if(x===ft){M=d.backslashes=!0,x=E(),x===gn&&(C=!0);continue}if(C===!0||x===gn){for(X++;h()!==!0&&(x=E());){if(x===ft){M=d.backslashes=!0,E();continue}if(x===gn){X++;continue}if(C!==!0&&x===_n&&(x=E())===_n){if(_=d.isBrace=!0,y=d.isGlob=!0,U=!0,r===!0)continue;break}if(C!==!0&&x===cs){if(_=d.isBrace=!0,y=d.isGlob=!0,U=!0,r===!0)continue;break}if(x===_s&&(X--,X===0)){C=!1,_=d.isBrace=!0,U=!0;break}}if(r===!0)continue;break}if(x===Er){if(s.push(l),a.push(d),d={value:"",depth:0,isGlob:!1},U===!0)continue;if($===_n&&l===f+1){f+=2;continue}b=l+1;continue}if(t.noext!==!0&&(x===ds||x===us||x===dn||x===Rr||x===pn)===!0&&c()===bn){if(y=d.isGlob=!0,A=d.isExtglob=!0,U=!0,x===pn&&l===f&&(k=!0),r===!0){for(;h()!==!0&&(x=E());){if(x===ft){M=d.backslashes=!0,x=E();continue}if(x===Sr){y=d.isGlob=!0,U=!0;break}}continue}break}if(x===dn){if($===dn&&(O=d.isGlobstar=!0),y=d.isGlob=!0,U=!0,r===!0)continue;break}if(x===Rr){if(y=d.isGlob=!0,U=!0,r===!0)continue;break}if(x===hs){for(;h()!==!0&&(G=E());){if(G===ft){M=d.backslashes=!0,E();continue}if(G===ps){p=d.isBracket=!0,y=d.isGlob=!0,U=!0;break}}if(r===!0)continue;break}if(t.nonegate!==!0&&x===pn&&l===f){L=d.negated=!0,f++;continue}if(t.noparen!==!0&&x===bn){if(y=d.isGlob=!0,r===!0){for(;h()!==!0&&(x=E());){if(x===bn){M=d.backslashes=!0,x=E();continue}if(x===Sr){U=!0;break}}continue}break}if(y===!0){if(U=!0,r===!0)continue;break}}t.noext===!0&&(A=!1,y=!1);let S=u,z="",g="";f>0&&(z=u.slice(0,f),u=u.slice(f),b-=f),S&&y===!0&&b>0?(S=u.slice(0,b),g=u.slice(b)):y===!0?(S="",g=u):S=u,S&&S!==""&&S!=="/"&&S!==u&&kr(S.charCodeAt(S.length-1))&&(S=S.slice(0,-1)),t.unescape===!0&&(g&&(g=mr.removeBackslashes(g)),S&&M===!0&&(S=mr.removeBackslashes(S)));const w={prefix:z,input:e,start:f,base:S,glob:g,isBrace:_,isBracket:p,isGlob:y,isExtglob:A,isGlobstar:O,negated:L,negatedExtglob:k};if(t.tokens===!0&&(w.maxDepth=0,kr(x)||a.push(d),w.tokens=a),t.parts===!0||t.tokens===!0){let G;for(let m=0;m<s.length;m++){const W=G?G+1:f,D=s[m],V=e.slice(W,D);t.tokens&&(m===0&&f!==0?(a[m].isPrefix=!0,a[m].value=z):a[m].value=V,Cr(a[m]),w.maxDepth+=a[m].depth),(m!==0||V!=="")&&o.push(V),G=D}if(G&&G+1<e.length){const m=e.slice(G+1);o.push(m),t.tokens&&(a[a.length-1].value=m,Cr(a[a.length-1]),w.maxDepth+=a[a.length-1].depth)}w.slashes=s,w.parts=o}return w};const Dt=Nt,he=lt,{MAX_LENGTH:zt,POSIX_REGEX_SOURCE:bs,REGEX_NON_SPECIAL_CHARS:ws,REGEX_SPECIAL_CHARS_BACKREF:ys,REPLACEMENTS:Tr}=Dt,vs=(e,n)=>{if(typeof n.expandRange=="function")return n.expandRange(...e,n);e.sort();const t=`[${e.join("-")}]`;try{new RegExp(t)}catch{return e.map(r=>he.escapeRegex(r)).join("..")}return t},tt=(e,n)=>`Missing ${e}: "${n}" - use "\\\\${n}" to match literal characters`,wn=(e,n)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=Tr[e]||e;const t={...n},i=typeof t.maxLength=="number"?Math.min(zt,t.maxLength):zt;let r=e.length;if(r>i)throw new SyntaxError(`Input length: ${r}, exceeds maximum allowed length: ${i}`);const s={type:"bos",value:"",output:t.prepend||""},a=[s],o=t.capture?"":"?:",u=he.isWindows(n),l=Dt.globChars(u),f=Dt.extglobChars(l),{DOT_LITERAL:b,PLUS_LITERAL:_,SLASH_LITERAL:p,ONE_CHAR:y,DOTS_SLASH:A,NO_DOT:O,NO_DOT_SLASH:C,NO_DOTS_SLASH:M,QMARK:L,QMARK_NO_DOT:k,STAR:U,START_ANCHOR:X}=l,$=R=>`(${o}(?:(?!${X}${R.dot?A:b}).)*?)`,x=t.dot?"":O,d=t.dot?L:k;let h=t.bash===!0?$(t):U;t.capture&&(h=`(${h})`),typeof t.noext=="boolean"&&(t.noextglob=t.noext);const c={input:e,index:-1,start:0,dot:t.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:a};e=he.removePrefix(e,c),r=e.length;const E=[],S=[],z=[];let g=s,w;const G=()=>c.index===r-1,m=c.peek=(R=1)=>e[c.index+R],W=c.advance=()=>e[++c.index]||"",D=()=>e.slice(c.index+1),V=(R="",T=0)=>{c.consumed+=R,c.index+=T},re=R=>{c.output+=R.output!=null?R.output:R.value,V(R.value)},I=()=>{let R=1;for(;m()==="!"&&(m(2)!=="("||m(3)==="?");)W(),c.start++,R++;return R%2===0?!1:(c.negated=!0,c.start++,!0)},q=R=>{c[R]++,z.push(R)},ee=R=>{c[R]--,z.pop()},N=R=>{if(g.type==="globstar"){const T=c.braces>0&&(R.type==="comma"||R.type==="brace"),v=R.extglob===!0||E.length&&(R.type==="pipe"||R.type==="paren");R.type!=="slash"&&R.type!=="paren"&&!T&&!v&&(c.output=c.output.slice(0,-g.output.length),g.type="star",g.value="*",g.output=h,c.output+=g.output)}if(E.length&&R.type!=="paren"&&(E[E.length-1].inner+=R.value),(R.value||R.output)&&re(R),g&&g.type==="text"&&R.type==="text"){g.value+=R.value,g.output=(g.output||"")+R.value;return}R.prev=g,a.push(R),g=R},te=(R,T)=>{const v={...f[T],conditions:1,inner:""};v.prev=g,v.parens=c.parens,v.output=c.output;const H=(t.capture?"(":"")+v.open;q("parens"),N({type:R,value:T,output:c.output?"":y}),N({type:"paren",extglob:!0,value:W(),output:H}),E.push(v)},ie=R=>{let T=R.close+(t.capture?")":""),v;if(R.type==="negate"){let H=h;if(R.inner&&R.inner.length>1&&R.inner.includes("/")&&(H=$(t)),(H!==h||G()||/^\)+$/.test(D()))&&(T=R.close=`)$))${H}`),R.inner.includes("*")&&(v=D())&&/^\.[^\\/.]+$/.test(v)){const P=wn(v,{...n,fastpaths:!1}).output;T=R.close=`)${P})${H})`}R.prev.type==="bos"&&(c.negatedExtglob=!0)}N({type:"paren",extglob:!0,value:w,output:T}),ee("parens")};if(t.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let R=!1,T=e.replace(ys,(v,H,P,F,B,Q)=>F==="\\"?(R=!0,v):F==="?"?H?H+F+(B?L.repeat(B.length):""):Q===0?d+(B?L.repeat(B.length):""):L.repeat(P.length):F==="."?b.repeat(P.length):F==="*"?H?H+F+(B?h:""):h:H?v:`\\${v}`);return R===!0&&(t.unescape===!0?T=T.replace(/\\/g,""):T=T.replace(/\\+/g,v=>v.length%2===0?"\\\\":v?"\\":"")),T===e&&t.contains===!0?(c.output=e,c):(c.output=he.wrapOutput(T,c,n),c)}for(;!G();){if(w=W(),w==="\0")continue;if(w==="\\"){const v=m();if(v==="/"&&t.bash!==!0||v==="."||v===";")continue;if(!v){w+="\\",N({type:"text",value:w});continue}const H=/^\\+/.exec(D());let P=0;if(H&&H[0].length>2&&(P=H[0].length,c.index+=P,P%2!==0&&(w+="\\")),t.unescape===!0?w=W():w+=W(),c.brackets===0){N({type:"text",value:w});continue}}if(c.brackets>0&&(w!=="]"||g.value==="["||g.value==="[^")){if(t.posix!==!1&&w===":"){const v=g.value.slice(1);if(v.includes("[")&&(g.posix=!0,v.includes(":"))){const H=g.value.lastIndexOf("["),P=g.value.slice(0,H),F=g.value.slice(H+2),B=bs[F];if(B){g.value=P+B,c.backtrack=!0,W(),!s.output&&a.indexOf(g)===1&&(s.output=y);continue}}}(w==="["&&m()!==":"||w==="-"&&m()==="]")&&(w=`\\${w}`),w==="]"&&(g.value==="["||g.value==="[^")&&(w=`\\${w}`),t.posix===!0&&w==="!"&&g.value==="["&&(w="^"),g.value+=w,re({value:w});continue}if(c.quotes===1&&w!=='"'){w=he.escapeRegex(w),g.value+=w,re({value:w});continue}if(w==='"'){c.quotes=c.quotes===1?0:1,t.keepQuotes===!0&&N({type:"text",value:w});continue}if(w==="("){q("parens"),N({type:"paren",value:w});continue}if(w===")"){if(c.parens===0&&t.strictBrackets===!0)throw new SyntaxError(tt("opening","("));const v=E[E.length-1];if(v&&c.parens===v.parens+1){ie(E.pop());continue}N({type:"paren",value:w,output:c.parens?")":"\\)"}),ee("parens");continue}if(w==="["){if(t.nobracket===!0||!D().includes("]")){if(t.nobracket!==!0&&t.strictBrackets===!0)throw new SyntaxError(tt("closing","]"));w=`\\${w}`}else q("brackets");N({type:"bracket",value:w});continue}if(w==="]"){if(t.nobracket===!0||g&&g.type==="bracket"&&g.value.length===1){N({type:"text",value:w,output:`\\${w}`});continue}if(c.brackets===0){if(t.strictBrackets===!0)throw new SyntaxError(tt("opening","["));N({type:"text",value:w,output:`\\${w}`});continue}ee("brackets");const v=g.value.slice(1);if(g.posix!==!0&&v[0]==="^"&&!v.includes("/")&&(w=`/${w}`),g.value+=w,re({value:w}),t.literalBrackets===!1||he.hasRegexChars(v))continue;const H=he.escapeRegex(g.value);if(c.output=c.output.slice(0,-g.value.length),t.literalBrackets===!0){c.output+=H,g.value=H;continue}g.value=`(${o}${H}|${g.value})`,c.output+=g.value;continue}if(w==="{"&&t.nobrace!==!0){q("braces");const v={type:"brace",value:w,output:"(",outputIndex:c.output.length,tokensIndex:c.tokens.length};S.push(v),N(v);continue}if(w==="}"){const v=S[S.length-1];if(t.nobrace===!0||!v){N({type:"text",value:w,output:w});continue}let H=")";if(v.dots===!0){const P=a.slice(),F=[];for(let B=P.length-1;B>=0&&(a.pop(),P[B].type!=="brace");B--)P[B].type!=="dots"&&F.unshift(P[B].value);H=vs(F,t),c.backtrack=!0}if(v.comma!==!0&&v.dots!==!0){const P=c.output.slice(0,v.outputIndex),F=c.tokens.slice(v.tokensIndex);v.value=v.output="\\{",w=H="\\}",c.output=P;for(const B of F)c.output+=B.output||B.value}N({type:"brace",value:w,output:H}),ee("braces"),S.pop();continue}if(w==="|"){E.length>0&&E[E.length-1].conditions++,N({type:"text",value:w});continue}if(w===","){let v=w;const H=S[S.length-1];H&&z[z.length-1]==="braces"&&(H.comma=!0,v="|"),N({type:"comma",value:w,output:v});continue}if(w==="/"){if(g.type==="dot"&&c.index===c.start+1){c.start=c.index+1,c.consumed="",c.output="",a.pop(),g=s;continue}N({type:"slash",value:w,output:p});continue}if(w==="."){if(c.braces>0&&g.type==="dot"){g.value==="."&&(g.output=b);const v=S[S.length-1];g.type="dots",g.output+=w,g.value+=w,v.dots=!0;continue}if(c.braces+c.parens===0&&g.type!=="bos"&&g.type!=="slash"){N({type:"text",value:w,output:b});continue}N({type:"dot",value:w,output:b});continue}if(w==="?"){if(!(g&&g.value==="(")&&t.noextglob!==!0&&m()==="("&&m(2)!=="?"){te("qmark",w);continue}if(g&&g.type==="paren"){const H=m();let P=w;if(H==="<"&&!he.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(g.value==="("&&!/[!=<:]/.test(H)||H==="<"&&!/<([!=]|\w+>)/.test(D()))&&(P=`\\${w}`),N({type:"text",value:w,output:P});continue}if(t.dot!==!0&&(g.type==="slash"||g.type==="bos")){N({type:"qmark",value:w,output:k});continue}N({type:"qmark",value:w,output:L});continue}if(w==="!"){if(t.noextglob!==!0&&m()==="("&&(m(2)!=="?"||!/[!=<:]/.test(m(3)))){te("negate",w);continue}if(t.nonegate!==!0&&c.index===0){I();continue}}if(w==="+"){if(t.noextglob!==!0&&m()==="("&&m(2)!=="?"){te("plus",w);continue}if(g&&g.value==="("||t.regex===!1){N({type:"plus",value:w,output:_});continue}if(g&&(g.type==="bracket"||g.type==="paren"||g.type==="brace")||c.parens>0){N({type:"plus",value:w});continue}N({type:"plus",value:_});continue}if(w==="@"){if(t.noextglob!==!0&&m()==="("&&m(2)!=="?"){N({type:"at",extglob:!0,value:w,output:""});continue}N({type:"text",value:w});continue}if(w!=="*"){(w==="$"||w==="^")&&(w=`\\${w}`);const v=ws.exec(D());v&&(w+=v[0],c.index+=v[0].length),N({type:"text",value:w});continue}if(g&&(g.type==="globstar"||g.star===!0)){g.type="star",g.star=!0,g.value+=w,g.output=h,c.backtrack=!0,c.globstar=!0,V(w);continue}let R=D();if(t.noextglob!==!0&&/^\([^?]/.test(R)){te("star",w);continue}if(g.type==="star"){if(t.noglobstar===!0){V(w);continue}const v=g.prev,H=v.prev,P=v.type==="slash"||v.type==="bos",F=H&&(H.type==="star"||H.type==="globstar");if(t.bash===!0&&(!P||R[0]&&R[0]!=="/")){N({type:"star",value:w,output:""});continue}const B=c.braces>0&&(v.type==="comma"||v.type==="brace"),Q=E.length&&(v.type==="pipe"||v.type==="paren");if(!P&&v.type!=="paren"&&!B&&!Q){N({type:"star",value:w,output:""});continue}for(;R.slice(0,3)==="/**";){const Z=e[c.index+4];if(Z&&Z!=="/")break;R=R.slice(3),V("/**",3)}if(v.type==="bos"&&G()){g.type="globstar",g.value+=w,g.output=$(t),c.output=g.output,c.globstar=!0,V(w);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&!F&&G()){c.output=c.output.slice(0,-(v.output+g.output).length),v.output=`(?:${v.output}`,g.type="globstar",g.output=$(t)+(t.strictSlashes?")":"|$)"),g.value+=w,c.globstar=!0,c.output+=v.output+g.output,V(w);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&R[0]==="/"){const Z=R[1]!==void 0?"|$":"";c.output=c.output.slice(0,-(v.output+g.output).length),v.output=`(?:${v.output}`,g.type="globstar",g.output=`${$(t)}${p}|${p}${Z})`,g.value+=w,c.output+=v.output+g.output,c.globstar=!0,V(w+W()),N({type:"slash",value:"/",output:""});continue}if(v.type==="bos"&&R[0]==="/"){g.type="globstar",g.value+=w,g.output=`(?:^|${p}|${$(t)}${p})`,c.output=g.output,c.globstar=!0,V(w+W()),N({type:"slash",value:"/",output:""});continue}c.output=c.output.slice(0,-g.output.length),g.type="globstar",g.output=$(t),g.value+=w,c.output+=g.output,c.globstar=!0,V(w);continue}const T={type:"star",value:w,output:h};if(t.bash===!0){T.output=".*?",(g.type==="bos"||g.type==="slash")&&(T.output=x+T.output),N(T);continue}if(g&&(g.type==="bracket"||g.type==="paren")&&t.regex===!0){T.output=w,N(T);continue}(c.index===c.start||g.type==="slash"||g.type==="dot")&&(g.type==="dot"?(c.output+=C,g.output+=C):t.dot===!0?(c.output+=M,g.output+=M):(c.output+=x,g.output+=x),m()!=="*"&&(c.output+=y,g.output+=y)),N(T)}for(;c.brackets>0;){if(t.strictBrackets===!0)throw new SyntaxError(tt("closing","]"));c.output=he.escapeLast(c.output,"["),ee("brackets")}for(;c.parens>0;){if(t.strictBrackets===!0)throw new SyntaxError(tt("closing",")"));c.output=he.escapeLast(c.output,"("),ee("parens")}for(;c.braces>0;){if(t.strictBrackets===!0)throw new SyntaxError(tt("closing","}"));c.output=he.escapeLast(c.output,"{"),ee("braces")}if(t.strictSlashes!==!0&&(g.type==="star"||g.type==="bracket")&&N({type:"maybe_slash",value:"",output:`${p}?`}),c.backtrack===!0){c.output="";for(const R of c.tokens)c.output+=R.output!=null?R.output:R.value,R.suffix&&(c.output+=R.suffix)}return c};wn.fastpaths=(e,n)=>{const t={...n},i=typeof t.maxLength=="number"?Math.min(zt,t.maxLength):zt,r=e.length;if(r>i)throw new SyntaxError(`Input length: ${r}, exceeds maximum allowed length: ${i}`);e=Tr[e]||e;const s=he.isWindows(n),{DOT_LITERAL:a,SLASH_LITERAL:o,ONE_CHAR:u,DOTS_SLASH:l,NO_DOT:f,NO_DOTS:b,NO_DOTS_SLASH:_,STAR:p,START_ANCHOR:y}=Dt.globChars(s),A=t.dot?b:f,O=t.dot?_:f,C=t.capture?"":"?:",M={negated:!1,prefix:""};let L=t.bash===!0?".*?":p;t.capture&&(L=`(${L})`);const k=x=>x.noglobstar===!0?L:`(${C}(?:(?!${y}${x.dot?l:a}).)*?)`,U=x=>{switch(x){case"*":return`${A}${u}${L}`;case".*":return`${a}${u}${L}`;case"*.*":return`${A}${L}${a}${u}${L}`;case"*/*":return`${A}${L}${o}${u}${O}${L}`;case"**":return A+k(t);case"**/*":return`(?:${A}${k(t)}${o})?${O}${u}${L}`;case"**/*.*":return`(?:${A}${k(t)}${o})?${O}${L}${a}${u}${L}`;case"**/.*":return`(?:${A}${k(t)}${o})?${a}${u}${L}`;default:{const d=/^(.*?)\.(\w+)$/.exec(x);if(!d)return;const h=U(d[1]);return h?h+a+d[2]:void 0}}},X=he.removePrefix(e,M);let $=U(X);return $&&t.strictSlashes!==!0&&($+=`${o}?`),$};var As=wn;const xs=un,ms=gs,yn=As,vn=lt,Es=Nt,Rs=e=>e&&typeof e=="object"&&!Array.isArray(e),ne=(e,n,t=!1)=>{if(Array.isArray(e)){const f=e.map(_=>ne(_,n,t));return _=>{for(const p of f){const y=p(_);if(y)return y}return!1}}const i=Rs(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!i)throw new TypeError("Expected pattern to be a non-empty string");const r=n||{},s=vn.isWindows(n),a=i?ne.compileRe(e,n):ne.makeRe(e,n,!1,!0),o=a.state;delete a.state;let u=()=>!1;if(r.ignore){const f={...n,ignore:null,onMatch:null,onResult:null};u=ne(r.ignore,f,t)}const l=(f,b=!1)=>{const{isMatch:_,match:p,output:y}=ne.test(f,a,n,{glob:e,posix:s}),A={glob:e,state:o,regex:a,posix:s,input:f,output:y,match:p,isMatch:_};return typeof r.onResult=="function"&&r.onResult(A),_===!1?(A.isMatch=!1,b?A:!1):u(f)?(typeof r.onIgnore=="function"&&r.onIgnore(A),A.isMatch=!1,b?A:!1):(typeof r.onMatch=="function"&&r.onMatch(A),b?A:!0)};return t&&(l.state=o),l};ne.test=(e,n,t,{glob:i,posix:r}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};const s=t||{},a=s.format||(r?vn.toPosixSlashes:null);let o=e===i,u=o&&a?a(e):e;return o===!1&&(u=a?a(e):e,o=u===i),(o===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?o=ne.matchBase(e,n,t,r):o=n.exec(u)),{isMatch:!!o,match:o,output:u}},ne.matchBase=(e,n,t,i=vn.isWindows(t))=>(n instanceof RegExp?n:ne.makeRe(n,t)).test(xs.basename(e)),ne.isMatch=(e,n,t)=>ne(n,t)(e),ne.parse=(e,n)=>Array.isArray(e)?e.map(t=>ne.parse(t,n)):yn(e,{...n,fastpaths:!1}),ne.scan=(e,n)=>ms(e,n),ne.compileRe=(e,n,t=!1,i=!1)=>{if(t===!0)return e.output;const r=n||{},s=r.contains?"":"^",a=r.contains?"":"$";let o=`${s}(?:${e.output})${a}`;e&&e.negated===!0&&(o=`^(?!${o}).*$`);const u=ne.toRegex(o,n);return i===!0&&(u.state=e),u},ne.makeRe=(e,n={},t=!1,i=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let r={negated:!1,fastpaths:!0};return n.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(r.output=yn.fastpaths(e,n)),r.output||(r=yn(e,n)),ne.compileRe(r,n,t,i)},ne.toRegex=(e,n)=>{try{const t=n||{};return new RegExp(e,t.flags||(t.nocase?"i":""))}catch(t){if(n&&n.debug===!0)throw t;return/$^/}},ne.constants=Es;var Ss=ne,ks=Ss;const $r=Qn,Or=Qa,Ae=ks,An=lt,Lr=e=>e===""||e==="./",Hr=e=>{const n=e.indexOf("{");return n>-1&&e.indexOf("}",n)>-1},Y=(e,n,t)=>{n=[].concat(n),e=[].concat(e);let i=new Set,r=new Set,s=new Set,a=0,o=f=>{s.add(f.output),t&&t.onResult&&t.onResult(f)};for(let f=0;f<n.length;f++){let b=Ae(String(n[f]),{...t,onResult:o},!0),_=b.state.negated||b.state.negatedExtglob;_&&a++;for(let p of e){let y=b(p,!0);(_?!y.isMatch:y.isMatch)&&(_?i.add(y.output):(i.delete(y.output),r.add(y.output)))}}let l=(a===n.length?[...s]:[...r]).filter(f=>!i.has(f));if(t&&l.length===0){if(t.failglob===!0)throw new Error(`No matches found for "${n.join(", ")}"`);if(t.nonull===!0||t.nullglob===!0)return t.unescape?n.map(f=>f.replace(/\\/g,"")):n}return l};Y.match=Y,Y.matcher=(e,n)=>Ae(e,n),Y.isMatch=(e,n,t)=>Ae(n,t)(e),Y.any=Y.isMatch,Y.not=(e,n,t={})=>{n=[].concat(n).map(String);let i=new Set,r=[],s=o=>{t.onResult&&t.onResult(o),r.push(o.output)},a=new Set(Y(e,n,{...t,onResult:s}));for(let o of r)a.has(o)||i.add(o);return[...i]},Y.contains=(e,n,t)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${$r.inspect(e)}"`);if(Array.isArray(n))return n.some(i=>Y.contains(e,i,t));if(typeof n=="string"){if(Lr(e)||Lr(n))return!1;if(e.includes(n)||e.startsWith("./")&&e.slice(2).includes(n))return!0}return Y.isMatch(e,n,{...t,contains:!0})},Y.matchKeys=(e,n,t)=>{if(!An.isObject(e))throw new TypeError("Expected the first argument to be an object");let i=Y(Object.keys(e),n,t),r={};for(let s of i)r[s]=e[s];return r},Y.some=(e,n,t)=>{let i=[].concat(e);for(let r of[].concat(n)){let s=Ae(String(r),t);if(i.some(a=>s(a)))return!0}return!1},Y.every=(e,n,t)=>{let i=[].concat(e);for(let r of[].concat(n)){let s=Ae(String(r),t);if(!i.every(a=>s(a)))return!1}return!0},Y.all=(e,n,t)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${$r.inspect(e)}"`);return[].concat(n).every(i=>Ae(i,t)(e))},Y.capture=(e,n,t)=>{let i=An.isWindows(t),s=Ae.makeRe(String(e),{...t,capture:!0}).exec(i?An.toPosixSlashes(n):n);if(s)return s.slice(1).map(a=>a===void 0?"":a)},Y.makeRe=(...e)=>Ae.makeRe(...e),Y.scan=(...e)=>Ae.scan(...e),Y.parse=(e,n)=>{let t=[];for(let i of[].concat(e||[]))for(let r of Or(String(i),n))t.push(Ae.parse(r,n));return t},Y.braces=(e,n)=>{if(typeof e!="string")throw new TypeError("Expected a string");return n&&n.nobrace===!0||!Hr(e)?[e]:Or(e,n)},Y.braceExpand=(e,n)=>{if(typeof e!="string")throw new TypeError("Expected a string");return Y.braces(e,{...n,expand:!0})},Y.hasBraces=Hr;var Cs=Y,Ft=rn(Cs);/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Ts=4,Ir=0,Nr=1,$s=2;function nt(e){let n=e.length;for(;--n>=0;)e[n]=0}const Os=0,Dr=1,Ls=2,Hs=3,Is=258,xn=29,ut=256,ct=ut+1+xn,rt=30,mn=19,zr=2*ct+1,Ge=15,En=16,Ns=7,Rn=256,Fr=16,Mr=17,Ur=18,Sn=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Mt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Ds=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Br=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),zs=512,ke=new Array((ct+2)*2);nt(ke);const ht=new Array(rt*2);nt(ht);const dt=new Array(zs);nt(dt);const _t=new Array(Is-Hs+1);nt(_t);const kn=new Array(xn);nt(kn);const Ut=new Array(rt);nt(Ut);function Cn(e,n,t,i,r){this.static_tree=e,this.extra_bits=n,this.extra_base=t,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}let Zr,Pr,Gr;function Tn(e,n){this.dyn_tree=e,this.max_code=0,this.stat_desc=n}const Kr=e=>e<256?dt[e]:dt[256+(e>>>7)],pt=(e,n)=>{e.pending_buf[e.pending++]=n&255,e.pending_buf[e.pending++]=n>>>8&255},ue=(e,n,t)=>{e.bi_valid>En-t?(e.bi_buf|=n<<e.bi_valid&65535,pt(e,e.bi_buf),e.bi_buf=n>>En-e.bi_valid,e.bi_valid+=t-En):(e.bi_buf|=n<<e.bi_valid&65535,e.bi_valid+=t)},xe=(e,n,t)=>{ue(e,t[n*2],t[n*2+1])},jr=(e,n)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--n>0);return t>>>1},Fs=e=>{e.bi_valid===16?(pt(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},Ms=(e,n)=>{const t=n.dyn_tree,i=n.max_code,r=n.stat_desc.static_tree,s=n.stat_desc.has_stree,a=n.stat_desc.extra_bits,o=n.stat_desc.extra_base,u=n.stat_desc.max_length;let l,f,b,_,p,y,A=0;for(_=0;_<=Ge;_++)e.bl_count[_]=0;for(t[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<zr;l++)f=e.heap[l],_=t[t[f*2+1]*2+1]+1,_>u&&(_=u,A++),t[f*2+1]=_,!(f>i)&&(e.bl_count[_]++,p=0,f>=o&&(p=a[f-o]),y=t[f*2],e.opt_len+=y*(_+p),s&&(e.static_len+=y*(r[f*2+1]+p)));if(A!==0){do{for(_=u-1;e.bl_count[_]===0;)_--;e.bl_count[_]--,e.bl_count[_+1]+=2,e.bl_count[u]--,A-=2}while(A>0);for(_=u;_!==0;_--)for(f=e.bl_count[_];f!==0;)b=e.heap[--l],!(b>i)&&(t[b*2+1]!==_&&(e.opt_len+=(_-t[b*2+1])*t[b*2],t[b*2+1]=_),f--)}},Wr=(e,n,t)=>{const i=new Array(Ge+1);let r=0,s,a;for(s=1;s<=Ge;s++)i[s]=r=r+t[s-1]<<1;for(a=0;a<=n;a++){let o=e[a*2+1];o!==0&&(e[a*2]=jr(i[o]++,o))}},Us=()=>{let e,n,t,i,r;const s=new Array(Ge+1);for(t=0,i=0;i<xn-1;i++)for(kn[i]=t,e=0;e<1<<Sn[i];e++)_t[t++]=i;for(_t[t-1]=i,r=0,i=0;i<16;i++)for(Ut[i]=r,e=0;e<1<<Mt[i];e++)dt[r++]=i;for(r>>=7;i<rt;i++)for(Ut[i]=r<<7,e=0;e<1<<Mt[i]-7;e++)dt[256+r++]=i;for(n=0;n<=Ge;n++)s[n]=0;for(e=0;e<=143;)ke[e*2+1]=8,e++,s[8]++;for(;e<=255;)ke[e*2+1]=9,e++,s[9]++;for(;e<=279;)ke[e*2+1]=7,e++,s[7]++;for(;e<=287;)ke[e*2+1]=8,e++,s[8]++;for(Wr(ke,ct+1,s),e=0;e<rt;e++)ht[e*2+1]=5,ht[e*2]=jr(e,5);Zr=new Cn(ke,Sn,ut+1,ct,Ge),Pr=new Cn(ht,Mt,0,rt,Ge),Gr=new Cn(new Array(0),Ds,0,mn,Ns)},Xr=e=>{let n;for(n=0;n<ct;n++)e.dyn_ltree[n*2]=0;for(n=0;n<rt;n++)e.dyn_dtree[n*2]=0;for(n=0;n<mn;n++)e.bl_tree[n*2]=0;e.dyn_ltree[Rn*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},qr=e=>{e.bi_valid>8?pt(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Bs=(e,n,t,i)=>{qr(e),pt(e,t),pt(e,~t),e.pending_buf.set(e.window.subarray(n,n+t),e.pending),e.pending+=t},Qr=(e,n,t,i)=>{const r=n*2,s=t*2;return e[r]<e[s]||e[r]===e[s]&&i[n]<=i[t]},$n=(e,n,t)=>{const i=e.heap[t];let r=t<<1;for(;r<=e.heap_len&&(r<e.heap_len&&Qr(n,e.heap[r+1],e.heap[r],e.depth)&&r++,!Qr(n,i,e.heap[r],e.depth));)e.heap[t]=e.heap[r],t=r,r<<=1;e.heap[t]=i},Yr=(e,n,t)=>{let i,r,s=0,a,o;if(e.last_lit!==0)do i=e.pending_buf[e.d_buf+s*2]<<8|e.pending_buf[e.d_buf+s*2+1],r=e.pending_buf[e.l_buf+s],s++,i===0?xe(e,r,n):(a=_t[r],xe(e,a+ut+1,n),o=Sn[a],o!==0&&(r-=kn[a],ue(e,r,o)),i--,a=Kr(i),xe(e,a,t),o=Mt[a],o!==0&&(i-=Ut[a],ue(e,i,o)));while(s<e.last_lit);xe(e,Rn,n)},On=(e,n)=>{const t=n.dyn_tree,i=n.stat_desc.static_tree,r=n.stat_desc.has_stree,s=n.stat_desc.elems;let a,o,u=-1,l;for(e.heap_len=0,e.heap_max=zr,a=0;a<s;a++)t[a*2]!==0?(e.heap[++e.heap_len]=u=a,e.depth[a]=0):t[a*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=u<2?++u:0,t[l*2]=1,e.depth[l]=0,e.opt_len--,r&&(e.static_len-=i[l*2+1]);for(n.max_code=u,a=e.heap_len>>1;a>=1;a--)$n(e,t,a);l=s;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],$n(e,t,1),o=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=o,t[l*2]=t[a*2]+t[o*2],e.depth[l]=(e.depth[a]>=e.depth[o]?e.depth[a]:e.depth[o])+1,t[a*2+1]=t[o*2+1]=l,e.heap[1]=l++,$n(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Ms(e,n),Wr(t,u,e.bl_count)},Jr=(e,n,t)=>{let i,r=-1,s,a=n[0*2+1],o=0,u=7,l=4;for(a===0&&(u=138,l=3),n[(t+1)*2+1]=65535,i=0;i<=t;i++)s=a,a=n[(i+1)*2+1],!(++o<u&&s===a)&&(o<l?e.bl_tree[s*2]+=o:s!==0?(s!==r&&e.bl_tree[s*2]++,e.bl_tree[Fr*2]++):o<=10?e.bl_tree[Mr*2]++:e.bl_tree[Ur*2]++,o=0,r=s,a===0?(u=138,l=3):s===a?(u=6,l=3):(u=7,l=4))},Vr=(e,n,t)=>{let i,r=-1,s,a=n[0*2+1],o=0,u=7,l=4;for(a===0&&(u=138,l=3),i=0;i<=t;i++)if(s=a,a=n[(i+1)*2+1],!(++o<u&&s===a)){if(o<l)do xe(e,s,e.bl_tree);while(--o!==0);else s!==0?(s!==r&&(xe(e,s,e.bl_tree),o--),xe(e,Fr,e.bl_tree),ue(e,o-3,2)):o<=10?(xe(e,Mr,e.bl_tree),ue(e,o-3,3)):(xe(e,Ur,e.bl_tree),ue(e,o-11,7));o=0,r=s,a===0?(u=138,l=3):s===a?(u=6,l=3):(u=7,l=4)}},Zs=e=>{let n;for(Jr(e,e.dyn_ltree,e.l_desc.max_code),Jr(e,e.dyn_dtree,e.d_desc.max_code),On(e,e.bl_desc),n=mn-1;n>=3&&e.bl_tree[Br[n]*2+1]===0;n--);return e.opt_len+=3*(n+1)+5+5+4,n},Ps=(e,n,t,i)=>{let r;for(ue(e,n-257,5),ue(e,t-1,5),ue(e,i-4,4),r=0;r<i;r++)ue(e,e.bl_tree[Br[r]*2+1],3);Vr(e,e.dyn_ltree,n-1),Vr(e,e.dyn_dtree,t-1)},Gs=e=>{let n=4093624447,t;for(t=0;t<=31;t++,n>>>=1)if(n&1&&e.dyn_ltree[t*2]!==0)return Ir;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Nr;for(t=32;t<ut;t++)if(e.dyn_ltree[t*2]!==0)return Nr;return Ir};let ei=!1;const Ks=e=>{ei||(Us(),ei=!0),e.l_desc=new Tn(e.dyn_ltree,Zr),e.d_desc=new Tn(e.dyn_dtree,Pr),e.bl_desc=new Tn(e.bl_tree,Gr),e.bi_buf=0,e.bi_valid=0,Xr(e)},ti=(e,n,t,i)=>{ue(e,(Os<<1)+(i?1:0),3),Bs(e,n,t)},js=e=>{ue(e,Dr<<1,3),xe(e,Rn,ke),Fs(e)},Ws=(e,n,t,i)=>{let r,s,a=0;e.level>0?(e.strm.data_type===$s&&(e.strm.data_type=Gs(e)),On(e,e.l_desc),On(e,e.d_desc),a=Zs(e),r=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=r&&(r=s)):r=s=t+5,t+4<=r&&n!==-1?ti(e,n,t,i):e.strategy===Ts||s===r?(ue(e,(Dr<<1)+(i?1:0),3),Yr(e,ke,ht)):(ue(e,(Ls<<1)+(i?1:0),3),Ps(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),Yr(e,e.dyn_ltree,e.dyn_dtree)),Xr(e),i&&qr(e)},Xs=(e,n,t)=>(e.pending_buf[e.d_buf+e.last_lit*2]=n>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=n&255,e.pending_buf[e.l_buf+e.last_lit]=t&255,e.last_lit++,n===0?e.dyn_ltree[t*2]++:(e.matches++,n--,e.dyn_ltree[(_t[t]+ut+1)*2]++,e.dyn_dtree[Kr(n)*2]++),e.last_lit===e.lit_bufsize-1);var qs=Ks,Qs=ti,Ys=Ws,Js=Xs,Vs=js,eo={_tr_init:qs,_tr_stored_block:Qs,_tr_flush_block:Ys,_tr_tally:Js,_tr_align:Vs},gt=(e,n,t,i)=>{let r=e&65535|0,s=e>>>16&65535|0,a=0;for(;t!==0;){a=t>2e3?2e3:t,t-=a;do r=r+n[i++]|0,s=s+r|0;while(--a);r%=65521,s%=65521}return r|s<<16|0};const to=()=>{let e,n=[];for(var t=0;t<256;t++){e=t;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;n[t]=e}return n},no=new Uint32Array(to());var se=(e,n,t,i)=>{const r=no,s=i+t;e^=-1;for(let a=i;a<s;a++)e=e>>>8^r[(e^n[a])&255];return e^-1},Ke={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},je={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:ro,_tr_stored_block:io,_tr_flush_block:ao,_tr_tally:Oe,_tr_align:so}=eo,{Z_NO_FLUSH:We,Z_PARTIAL_FLUSH:oo,Z_FULL_FLUSH:lo,Z_FINISH:Le,Z_BLOCK:ni,Z_OK:me,Z_STREAM_END:ri,Z_STREAM_ERROR:de,Z_DATA_ERROR:fo,Z_BUF_ERROR:Ln,Z_DEFAULT_COMPRESSION:uo,Z_FILTERED:co,Z_HUFFMAN_ONLY:Bt,Z_RLE:ho,Z_FIXED:_o,Z_DEFAULT_STRATEGY:po,Z_UNKNOWN:go,Z_DEFLATED:Zt}=je,bo=9,wo=15,yo=8,Hn=256+1+29,vo=30,Ao=19,xo=2*Hn+1,mo=15,K=3,He=258,be=He+K+1,Eo=32,Pt=42,In=69,Gt=73,Kt=91,jt=103,Xe=113,bt=666,ae=1,wt=2,qe=3,it=4,Ro=3,Ie=(e,n)=>(e.msg=Ke[n],n),ii=e=>(e<<1)-(e>4?9:0),Ne=e=>{let n=e.length;for(;--n>=0;)e[n]=0};let De=(e,n,t)=>(n<<e.hash_shift^t)&e.hash_mask;const ze=e=>{const n=e.state;let t=n.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+t),e.next_out),e.next_out+=t,n.pending_out+=t,e.total_out+=t,e.avail_out-=t,n.pending-=t,n.pending===0&&(n.pending_out=0))},oe=(e,n)=>{ao(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,n),e.block_start=e.strstart,ze(e.strm)},j=(e,n)=>{e.pending_buf[e.pending++]=n},yt=(e,n)=>{e.pending_buf[e.pending++]=n>>>8&255,e.pending_buf[e.pending++]=n&255},So=(e,n,t,i)=>{let r=e.avail_in;return r>i&&(r=i),r===0?0:(e.avail_in-=r,n.set(e.input.subarray(e.next_in,e.next_in+r),t),e.state.wrap===1?e.adler=gt(e.adler,n,r,t):e.state.wrap===2&&(e.adler=se(e.adler,n,r,t)),e.next_in+=r,e.total_in+=r,r)},ai=(e,n)=>{let t=e.max_chain_length,i=e.strstart,r,s,a=e.prev_length,o=e.nice_match;const u=e.strstart>e.w_size-be?e.strstart-(e.w_size-be):0,l=e.window,f=e.w_mask,b=e.prev,_=e.strstart+He;let p=l[i+a-1],y=l[i+a];e.prev_length>=e.good_match&&(t>>=2),o>e.lookahead&&(o=e.lookahead);do if(r=n,!(l[r+a]!==y||l[r+a-1]!==p||l[r]!==l[i]||l[++r]!==l[i+1])){i+=2,r++;do;while(l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&i<_);if(s=He-(_-i),i=_-He,s>a){if(e.match_start=n,a=s,s>=o)break;p=l[i+a-1],y=l[i+a]}}while((n=b[n&f])>u&&--t!==0);return a<=e.lookahead?a:e.lookahead},Qe=e=>{const n=e.w_size;let t,i,r,s,a;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=n+(n-be)){e.window.set(e.window.subarray(n,n+n),0),e.match_start-=n,e.strstart-=n,e.block_start-=n,i=e.hash_size,t=i;do r=e.head[--t],e.head[t]=r>=n?r-n:0;while(--i);i=n,t=i;do r=e.prev[--t],e.prev[t]=r>=n?r-n:0;while(--i);s+=n}if(e.strm.avail_in===0)break;if(i=So(e.strm,e.window,e.strstart+e.lookahead,s),e.lookahead+=i,e.lookahead+e.insert>=K)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=De(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=De(e,e.ins_h,e.window[a+K-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<K)););}while(e.lookahead<be&&e.strm.avail_in!==0)},ko=(e,n)=>{let t=65535;for(t>e.pending_buf_size-5&&(t=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Qe(e),e.lookahead===0&&n===We)return ae;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;const i=e.block_start+t;if((e.strstart===0||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,oe(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-be&&(oe(e,!1),e.strm.avail_out===0))return ae}return e.insert=0,n===Le?(oe(e,!0),e.strm.avail_out===0?qe:it):(e.strstart>e.block_start&&(oe(e,!1),e.strm.avail_out===0),ae)},Nn=(e,n)=>{let t,i;for(;;){if(e.lookahead<be){if(Qe(e),e.lookahead<be&&n===We)return ae;if(e.lookahead===0)break}if(t=0,e.lookahead>=K&&(e.ins_h=De(e,e.ins_h,e.window[e.strstart+K-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-be&&(e.match_length=ai(e,t)),e.match_length>=K)if(i=Oe(e,e.strstart-e.match_start,e.match_length-K),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=K){e.match_length--;do e.strstart++,e.ins_h=De(e,e.ins_h,e.window[e.strstart+K-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=De(e,e.ins_h,e.window[e.strstart+1]);else i=Oe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(oe(e,!1),e.strm.avail_out===0))return ae}return e.insert=e.strstart<K-1?e.strstart:K-1,n===Le?(oe(e,!0),e.strm.avail_out===0?qe:it):e.last_lit&&(oe(e,!1),e.strm.avail_out===0)?ae:wt},at=(e,n)=>{let t,i,r;for(;;){if(e.lookahead<be){if(Qe(e),e.lookahead<be&&n===We)return ae;if(e.lookahead===0)break}if(t=0,e.lookahead>=K&&(e.ins_h=De(e,e.ins_h,e.window[e.strstart+K-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=K-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-be&&(e.match_length=ai(e,t),e.match_length<=5&&(e.strategy===co||e.match_length===K&&e.strstart-e.match_start>4096)&&(e.match_length=K-1)),e.prev_length>=K&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-K,i=Oe(e,e.strstart-1-e.prev_match,e.prev_length-K),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=r&&(e.ins_h=De(e,e.ins_h,e.window[e.strstart+K-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=K-1,e.strstart++,i&&(oe(e,!1),e.strm.avail_out===0))return ae}else if(e.match_available){if(i=Oe(e,0,e.window[e.strstart-1]),i&&oe(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ae}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=Oe(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<K-1?e.strstart:K-1,n===Le?(oe(e,!0),e.strm.avail_out===0?qe:it):e.last_lit&&(oe(e,!1),e.strm.avail_out===0)?ae:wt},Co=(e,n)=>{let t,i,r,s;const a=e.window;for(;;){if(e.lookahead<=He){if(Qe(e),e.lookahead<=He&&n===We)return ae;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=K&&e.strstart>0&&(r=e.strstart-1,i=a[r],i===a[++r]&&i===a[++r]&&i===a[++r])){s=e.strstart+He;do;while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<s);e.match_length=He-(s-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=K?(t=Oe(e,1,e.match_length-K),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=Oe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(oe(e,!1),e.strm.avail_out===0))return ae}return e.insert=0,n===Le?(oe(e,!0),e.strm.avail_out===0?qe:it):e.last_lit&&(oe(e,!1),e.strm.avail_out===0)?ae:wt},To=(e,n)=>{let t;for(;;){if(e.lookahead===0&&(Qe(e),e.lookahead===0)){if(n===We)return ae;break}if(e.match_length=0,t=Oe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(oe(e,!1),e.strm.avail_out===0))return ae}return e.insert=0,n===Le?(oe(e,!0),e.strm.avail_out===0?qe:it):e.last_lit&&(oe(e,!1),e.strm.avail_out===0)?ae:wt};function Ee(e,n,t,i,r){this.good_length=e,this.max_lazy=n,this.nice_length=t,this.max_chain=i,this.func=r}const vt=[new Ee(0,0,0,0,ko),new Ee(4,4,8,4,Nn),new Ee(4,5,16,8,Nn),new Ee(4,6,32,32,Nn),new Ee(4,4,16,16,at),new Ee(8,16,32,32,at),new Ee(8,16,128,128,at),new Ee(8,32,128,256,at),new Ee(32,128,258,1024,at),new Ee(32,258,258,4096,at)],$o=e=>{e.window_size=2*e.w_size,Ne(e.head),e.max_lazy_match=vt[e.level].max_lazy,e.good_match=vt[e.level].good_length,e.nice_match=vt[e.level].nice_length,e.max_chain_length=vt[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=K-1,e.match_available=0,e.ins_h=0};function Oo(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Zt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(xo*2),this.dyn_dtree=new Uint16Array((2*vo+1)*2),this.bl_tree=new Uint16Array((2*Ao+1)*2),Ne(this.dyn_ltree),Ne(this.dyn_dtree),Ne(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(mo+1),this.heap=new Uint16Array(2*Hn+1),Ne(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Hn+1),Ne(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const si=e=>{if(!e||!e.state)return Ie(e,de);e.total_in=e.total_out=0,e.data_type=go;const n=e.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap?Pt:Xe,e.adler=n.wrap===2?0:1,n.last_flush=We,ro(n),me},oi=e=>{const n=si(e);return n===me&&$o(e.state),n},Lo=(e,n)=>!e||!e.state||e.state.wrap!==2?de:(e.state.gzhead=n,me),li=(e,n,t,i,r,s)=>{if(!e)return de;let a=1;if(n===uo&&(n=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),r<1||r>bo||t!==Zt||i<8||i>15||n<0||n>9||s<0||s>_o)return Ie(e,de);i===8&&(i=9);const o=new Oo;return e.state=o,o.strm=e,o.wrap=a,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=r+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+K-1)/K),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<r+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=n,o.strategy=s,o.method=t,oi(e)},Ho=(e,n)=>li(e,n,Zt,wo,yo,po),Io=(e,n)=>{let t,i;if(!e||!e.state||n>ni||n<0)return e?Ie(e,de):de;const r=e.state;if(!e.output||!e.input&&e.avail_in!==0||r.status===bt&&n!==Le)return Ie(e,e.avail_out===0?Ln:de);r.strm=e;const s=r.last_flush;if(r.last_flush=n,r.status===Pt)if(r.wrap===2)e.adler=0,j(r,31),j(r,139),j(r,8),r.gzhead?(j(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),j(r,r.gzhead.time&255),j(r,r.gzhead.time>>8&255),j(r,r.gzhead.time>>16&255),j(r,r.gzhead.time>>24&255),j(r,r.level===9?2:r.strategy>=Bt||r.level<2?4:0),j(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(j(r,r.gzhead.extra.length&255),j(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=se(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=In):(j(r,0),j(r,0),j(r,0),j(r,0),j(r,0),j(r,r.level===9?2:r.strategy>=Bt||r.level<2?4:0),j(r,Ro),r.status=Xe);else{let a=Zt+(r.w_bits-8<<4)<<8,o=-1;r.strategy>=Bt||r.level<2?o=0:r.level<6?o=1:r.level===6?o=2:o=3,a|=o<<6,r.strstart!==0&&(a|=Eo),a+=31-a%31,r.status=Xe,yt(r,a),r.strstart!==0&&(yt(r,e.adler>>>16),yt(r,e.adler&65535)),e.adler=1}if(r.status===In)if(r.gzhead.extra){for(t=r.pending;r.gzindex<(r.gzhead.extra.length&65535)&&!(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>t&&(e.adler=se(e.adler,r.pending_buf,r.pending-t,t)),ze(e),t=r.pending,r.pending===r.pending_buf_size));)j(r,r.gzhead.extra[r.gzindex]&255),r.gzindex++;r.gzhead.hcrc&&r.pending>t&&(e.adler=se(e.adler,r.pending_buf,r.pending-t,t)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=Gt)}else r.status=Gt;if(r.status===Gt)if(r.gzhead.name){t=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>t&&(e.adler=se(e.adler,r.pending_buf,r.pending-t,t)),ze(e),t=r.pending,r.pending===r.pending_buf_size)){i=1;break}r.gzindex<r.gzhead.name.length?i=r.gzhead.name.charCodeAt(r.gzindex++)&255:i=0,j(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>t&&(e.adler=se(e.adler,r.pending_buf,r.pending-t,t)),i===0&&(r.gzindex=0,r.status=Kt)}else r.status=Kt;if(r.status===Kt)if(r.gzhead.comment){t=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>t&&(e.adler=se(e.adler,r.pending_buf,r.pending-t,t)),ze(e),t=r.pending,r.pending===r.pending_buf_size)){i=1;break}r.gzindex<r.gzhead.comment.length?i=r.gzhead.comment.charCodeAt(r.gzindex++)&255:i=0,j(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>t&&(e.adler=se(e.adler,r.pending_buf,r.pending-t,t)),i===0&&(r.status=jt)}else r.status=jt;if(r.status===jt&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&ze(e),r.pending+2<=r.pending_buf_size&&(j(r,e.adler&255),j(r,e.adler>>8&255),e.adler=0,r.status=Xe)):r.status=Xe),r.pending!==0){if(ze(e),e.avail_out===0)return r.last_flush=-1,me}else if(e.avail_in===0&&ii(n)<=ii(s)&&n!==Le)return Ie(e,Ln);if(r.status===bt&&e.avail_in!==0)return Ie(e,Ln);if(e.avail_in!==0||r.lookahead!==0||n!==We&&r.status!==bt){let a=r.strategy===Bt?To(r,n):r.strategy===ho?Co(r,n):vt[r.level].func(r,n);if((a===qe||a===it)&&(r.status=bt),a===ae||a===qe)return e.avail_out===0&&(r.last_flush=-1),me;if(a===wt&&(n===oo?so(r):n!==ni&&(io(r,0,0,!1),n===lo&&(Ne(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),ze(e),e.avail_out===0))return r.last_flush=-1,me}return n!==Le?me:r.wrap<=0?ri:(r.wrap===2?(j(r,e.adler&255),j(r,e.adler>>8&255),j(r,e.adler>>16&255),j(r,e.adler>>24&255),j(r,e.total_in&255),j(r,e.total_in>>8&255),j(r,e.total_in>>16&255),j(r,e.total_in>>24&255)):(yt(r,e.adler>>>16),yt(r,e.adler&65535)),ze(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?me:ri)},No=e=>{if(!e||!e.state)return de;const n=e.state.status;return n!==Pt&&n!==In&&n!==Gt&&n!==Kt&&n!==jt&&n!==Xe&&n!==bt?Ie(e,de):(e.state=null,n===Xe?Ie(e,fo):me)},Do=(e,n)=>{let t=n.length;if(!e||!e.state)return de;const i=e.state,r=i.wrap;if(r===2||r===1&&i.status!==Pt||i.lookahead)return de;if(r===1&&(e.adler=gt(e.adler,n,t,0)),i.wrap=0,t>=i.w_size){r===0&&(Ne(i.head),i.strstart=0,i.block_start=0,i.insert=0);let u=new Uint8Array(i.w_size);u.set(n.subarray(t-i.w_size,t),0),n=u,t=i.w_size}const s=e.avail_in,a=e.next_in,o=e.input;for(e.avail_in=t,e.next_in=0,e.input=n,Qe(i);i.lookahead>=K;){let u=i.strstart,l=i.lookahead-(K-1);do i.ins_h=De(i,i.ins_h,i.window[u+K-1]),i.prev[u&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=u,u++;while(--l);i.strstart=u,i.lookahead=K-1,Qe(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=K-1,i.match_available=0,e.next_in=a,e.input=o,e.avail_in=s,i.wrap=r,me};var zo=Ho,Fo=li,Mo=oi,Uo=si,Bo=Lo,Zo=Io,Po=No,Go=Do,Ko="pako deflate (from Nodeca project)",At={deflateInit:zo,deflateInit2:Fo,deflateReset:Mo,deflateResetKeep:Uo,deflateSetHeader:Bo,deflate:Zo,deflateEnd:Po,deflateSetDictionary:Go,deflateInfo:Ko};const jo=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);var Wo=function(e){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const t=n.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const i in t)jo(t,i)&&(e[i]=t[i])}}return e},Xo=e=>{let n=0;for(let i=0,r=e.length;i<r;i++)n+=e[i].length;const t=new Uint8Array(n);for(let i=0,r=0,s=e.length;i<s;i++){let a=e[i];t.set(a,r),r+=a.length}return t},Wt={assign:Wo,flattenChunks:Xo};let fi=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{fi=!1}const xt=new Uint8Array(256);for(let e=0;e<256;e++)xt[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;xt[254]=xt[254]=1;var qo=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let n,t,i,r,s,a=e.length,o=0;for(r=0;r<a;r++)t=e.charCodeAt(r),(t&64512)===55296&&r+1<a&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(n=new Uint8Array(o),s=0,r=0;s<o;r++)t=e.charCodeAt(r),(t&64512)===55296&&r+1<a&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),t<128?n[s++]=t:t<2048?(n[s++]=192|t>>>6,n[s++]=128|t&63):t<65536?(n[s++]=224|t>>>12,n[s++]=128|t>>>6&63,n[s++]=128|t&63):(n[s++]=240|t>>>18,n[s++]=128|t>>>12&63,n[s++]=128|t>>>6&63,n[s++]=128|t&63);return n};const Qo=(e,n)=>{if(n<65534&&e.subarray&&fi)return String.fromCharCode.apply(null,e.length===n?e:e.subarray(0,n));let t="";for(let i=0;i<n;i++)t+=String.fromCharCode(e[i]);return t};var Yo=(e,n)=>{const t=n||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,n));let i,r;const s=new Array(t*2);for(r=0,i=0;i<t;){let a=e[i++];if(a<128){s[r++]=a;continue}let o=xt[a];if(o>4){s[r++]=65533,i+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&i<t;)a=a<<6|e[i++]&63,o--;if(o>1){s[r++]=65533;continue}a<65536?s[r++]=a:(a-=65536,s[r++]=55296|a>>10&1023,s[r++]=56320|a&1023)}return Qo(s,r)},Jo=(e,n)=>{n=n||e.length,n>e.length&&(n=e.length);let t=n-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?n:t+xt[e[t]]>n?t:n},mt={string2buf:qo,buf2string:Yo,utf8border:Jo};function Vo(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ui=Vo;const ci=Object.prototype.toString,{Z_NO_FLUSH:el,Z_SYNC_FLUSH:tl,Z_FULL_FLUSH:nl,Z_FINISH:rl,Z_OK:Xt,Z_STREAM_END:il,Z_DEFAULT_COMPRESSION:al,Z_DEFAULT_STRATEGY:sl,Z_DEFLATED:ol}=je;function Et(e){this.options=Wt.assign({level:al,method:ol,chunkSize:16384,windowBits:15,memLevel:8,strategy:sl},e||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ui,this.strm.avail_out=0;let t=At.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(t!==Xt)throw new Error(Ke[t]);if(n.header&&At.deflateSetHeader(this.strm,n.header),n.dictionary){let i;if(typeof n.dictionary=="string"?i=mt.string2buf(n.dictionary):ci.call(n.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(n.dictionary):i=n.dictionary,t=At.deflateSetDictionary(this.strm,i),t!==Xt)throw new Error(Ke[t]);this._dict_set=!0}}Et.prototype.push=function(e,n){const t=this.strm,i=this.options.chunkSize;let r,s;if(this.ended)return!1;for(n===~~n?s=n:s=n===!0?rl:el,typeof e=="string"?t.input=mt.string2buf(e):ci.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),(s===tl||s===nl)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(r=At.deflate(t,s),r===il)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),r=At.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===Xt;if(t.avail_out===0){this.onData(t.output);continue}if(s>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0},Et.prototype.onData=function(e){this.chunks.push(e)},Et.prototype.onEnd=function(e){e===Xt&&(this.result=Wt.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Dn(e,n){const t=new Et(n);if(t.push(e,!0),t.err)throw t.msg||Ke[t.err];return t.result}function ll(e,n){return n=n||{},n.raw=!0,Dn(e,n)}function fl(e,n){return n=n||{},n.gzip=!0,Dn(e,n)}var ul=Et,cl=Dn,hl=ll,dl=fl,_l=je,pl={Deflate:ul,deflate:cl,deflateRaw:hl,gzip:dl,constants:_l};const qt=30,gl=12;var bl=function(n,t){let i,r,s,a,o,u,l,f,b,_,p,y,A,O,C,M,L,k,U,X,$,x,d,h;const c=n.state;i=n.next_in,d=n.input,r=i+(n.avail_in-5),s=n.next_out,h=n.output,a=s-(t-n.avail_out),o=s+(n.avail_out-257),u=c.dmax,l=c.wsize,f=c.whave,b=c.wnext,_=c.window,p=c.hold,y=c.bits,A=c.lencode,O=c.distcode,C=(1<<c.lenbits)-1,M=(1<<c.distbits)-1;e:do{y<15&&(p+=d[i++]<<y,y+=8,p+=d[i++]<<y,y+=8),L=A[p&C];t:for(;;){if(k=L>>>24,p>>>=k,y-=k,k=L>>>16&255,k===0)h[s++]=L&65535;else if(k&16){U=L&65535,k&=15,k&&(y<k&&(p+=d[i++]<<y,y+=8),U+=p&(1<<k)-1,p>>>=k,y-=k),y<15&&(p+=d[i++]<<y,y+=8,p+=d[i++]<<y,y+=8),L=O[p&M];n:for(;;){if(k=L>>>24,p>>>=k,y-=k,k=L>>>16&255,k&16){if(X=L&65535,k&=15,y<k&&(p+=d[i++]<<y,y+=8,y<k&&(p+=d[i++]<<y,y+=8)),X+=p&(1<<k)-1,X>u){n.msg="invalid distance too far back",c.mode=qt;break e}if(p>>>=k,y-=k,k=s-a,X>k){if(k=X-k,k>f&&c.sane){n.msg="invalid distance too far back",c.mode=qt;break e}if($=0,x=_,b===0){if($+=l-k,k<U){U-=k;do h[s++]=_[$++];while(--k);$=s-X,x=h}}else if(b<k){if($+=l+b-k,k-=b,k<U){U-=k;do h[s++]=_[$++];while(--k);if($=0,b<U){k=b,U-=k;do h[s++]=_[$++];while(--k);$=s-X,x=h}}}else if($+=b-k,k<U){U-=k;do h[s++]=_[$++];while(--k);$=s-X,x=h}for(;U>2;)h[s++]=x[$++],h[s++]=x[$++],h[s++]=x[$++],U-=3;U&&(h[s++]=x[$++],U>1&&(h[s++]=x[$++]))}else{$=s-X;do h[s++]=h[$++],h[s++]=h[$++],h[s++]=h[$++],U-=3;while(U>2);U&&(h[s++]=h[$++],U>1&&(h[s++]=h[$++]))}}else if(k&64){n.msg="invalid distance code",c.mode=qt;break e}else{L=O[(L&65535)+(p&(1<<k)-1)];continue n}break}}else if(k&64)if(k&32){c.mode=gl;break e}else{n.msg="invalid literal/length code",c.mode=qt;break e}else{L=A[(L&65535)+(p&(1<<k)-1)];continue t}break}}while(i<r&&s<o);U=y>>3,i-=U,y-=U<<3,p&=(1<<y)-1,n.next_in=i,n.next_out=s,n.avail_in=i<r?5+(r-i):5-(i-r),n.avail_out=s<o?257+(o-s):257-(s-o),c.hold=p,c.bits=y};const st=15,hi=852,di=592,_i=0,zn=1,pi=2,wl=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),yl=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),vl=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Al=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Rt=(e,n,t,i,r,s,a,o)=>{const u=o.bits;let l=0,f=0,b=0,_=0,p=0,y=0,A=0,O=0,C=0,M=0,L,k,U,X,$,x=null,d=0,h;const c=new Uint16Array(st+1),E=new Uint16Array(st+1);let S=null,z=0,g,w,G;for(l=0;l<=st;l++)c[l]=0;for(f=0;f<i;f++)c[n[t+f]]++;for(p=u,_=st;_>=1&&c[_]===0;_--);if(p>_&&(p=_),_===0)return r[s++]=1<<24|64<<16|0,r[s++]=1<<24|64<<16|0,o.bits=1,0;for(b=1;b<_&&c[b]===0;b++);for(p<b&&(p=b),O=1,l=1;l<=st;l++)if(O<<=1,O-=c[l],O<0)return-1;if(O>0&&(e===_i||_!==1))return-1;for(E[1]=0,l=1;l<st;l++)E[l+1]=E[l]+c[l];for(f=0;f<i;f++)n[t+f]!==0&&(a[E[n[t+f]]++]=f);if(e===_i?(x=S=a,h=19):e===zn?(x=wl,d-=257,S=yl,z-=257,h=256):(x=vl,S=Al,h=-1),M=0,f=0,l=b,$=s,y=p,A=0,U=-1,C=1<<p,X=C-1,e===zn&&C>hi||e===pi&&C>di)return 1;for(;;){g=l-A,a[f]<h?(w=0,G=a[f]):a[f]>h?(w=S[z+a[f]],G=x[d+a[f]]):(w=96,G=0),L=1<<l-A,k=1<<y,b=k;do k-=L,r[$+(M>>A)+k]=g<<24|w<<16|G|0;while(k!==0);for(L=1<<l-1;M&L;)L>>=1;if(L!==0?(M&=L-1,M+=L):M=0,f++,--c[l]===0){if(l===_)break;l=n[t+a[f]]}if(l>p&&(M&X)!==U){for(A===0&&(A=p),$+=b,y=l-A,O=1<<y;y+A<_&&(O-=c[y+A],!(O<=0));)y++,O<<=1;if(C+=1<<y,e===zn&&C>hi||e===pi&&C>di)return 1;U=M&X,r[U]=p<<24|y<<16|$-s|0}}return M!==0&&(r[$+M]=l-A<<24|64<<16|0),o.bits=p,0};const xl=0,gi=1,bi=2,{Z_FINISH:wi,Z_BLOCK:ml,Z_TREES:Qt,Z_OK:Ye,Z_STREAM_END:El,Z_NEED_DICT:Rl,Z_STREAM_ERROR:_e,Z_DATA_ERROR:yi,Z_MEM_ERROR:vi,Z_BUF_ERROR:Sl,Z_DEFLATED:Ai}=je,xi=1,mi=2,Ei=3,Ri=4,Si=5,ki=6,Ci=7,Ti=8,$i=9,Oi=10,Yt=11,Ce=12,Fn=13,Li=14,Mn=15,Hi=16,Ii=17,Ni=18,Di=19,Jt=20,Vt=21,zi=22,Fi=23,Mi=24,Ui=25,Bi=26,Un=27,Zi=28,Pi=29,J=30,Gi=31,kl=32,Cl=852,Tl=592,$l=15,Ki=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Ol(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ji=e=>{if(!e||!e.state)return _e;const n=e.state;return e.total_in=e.total_out=n.total=0,e.msg="",n.wrap&&(e.adler=n.wrap&1),n.mode=xi,n.last=0,n.havedict=0,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(Cl),n.distcode=n.distdyn=new Int32Array(Tl),n.sane=1,n.back=-1,Ye},Wi=e=>{if(!e||!e.state)return _e;const n=e.state;return n.wsize=0,n.whave=0,n.wnext=0,ji(e)},Xi=(e,n)=>{let t;if(!e||!e.state)return _e;const i=e.state;return n<0?(t=0,n=-n):(t=(n>>4)+1,n<48&&(n&=15)),n&&(n<8||n>15)?_e:(i.window!==null&&i.wbits!==n&&(i.window=null),i.wrap=t,i.wbits=n,Wi(e))},qi=(e,n)=>{if(!e)return _e;const t=new Ol;e.state=t,t.window=null;const i=Xi(e,n);return i!==Ye&&(e.state=null),i},Ll=e=>qi(e,$l);let Qi=!0,Bn,Zn;const Hl=e=>{if(Qi){Bn=new Int32Array(512),Zn=new Int32Array(32);let n=0;for(;n<144;)e.lens[n++]=8;for(;n<256;)e.lens[n++]=9;for(;n<280;)e.lens[n++]=7;for(;n<288;)e.lens[n++]=8;for(Rt(gi,e.lens,0,288,Bn,0,e.work,{bits:9}),n=0;n<32;)e.lens[n++]=5;Rt(bi,e.lens,0,32,Zn,0,e.work,{bits:5}),Qi=!1}e.lencode=Bn,e.lenbits=9,e.distcode=Zn,e.distbits=5},Yi=(e,n,t,i)=>{let r;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(n.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>i&&(r=i),s.window.set(n.subarray(t-i,t-i+r),s.wnext),i-=r,i?(s.window.set(n.subarray(t-i,t),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0},Il=(e,n)=>{let t,i,r,s,a,o,u,l,f,b,_,p,y,A,O=0,C,M,L,k,U,X,$,x;const d=new Uint8Array(4);let h,c;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return _e;t=e.state,t.mode===Ce&&(t.mode=Fn),a=e.next_out,r=e.output,u=e.avail_out,s=e.next_in,i=e.input,o=e.avail_in,l=t.hold,f=t.bits,b=o,_=u,x=Ye;e:for(;;)switch(t.mode){case xi:if(t.wrap===0){t.mode=Fn;break}for(;f<16;){if(o===0)break e;o--,l+=i[s++]<<f,f+=8}if(t.wrap&2&&l===35615){t.check=0,d[0]=l&255,d[1]=l>>>8&255,t.check=se(t.check,d,2,0),l=0,f=0,t.mode=mi;break}if(t.flags=0,t.head&&(t.head.done=!1),!(t.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",t.mode=J;break}if((l&15)!==Ai){e.msg="unknown compression method",t.mode=J;break}if(l>>>=4,f-=4,$=(l&15)+8,t.wbits===0)t.wbits=$;else if($>t.wbits){e.msg="invalid window size",t.mode=J;break}t.dmax=1<<t.wbits,e.adler=t.check=1,t.mode=l&512?Oi:Ce,l=0,f=0;break;case mi:for(;f<16;){if(o===0)break e;o--,l+=i[s++]<<f,f+=8}if(t.flags=l,(t.flags&255)!==Ai){e.msg="unknown compression method",t.mode=J;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=J;break}t.head&&(t.head.text=l>>8&1),t.flags&512&&(d[0]=l&255,d[1]=l>>>8&255,t.check=se(t.check,d,2,0)),l=0,f=0,t.mode=Ei;case Ei:for(;f<32;){if(o===0)break e;o--,l+=i[s++]<<f,f+=8}t.head&&(t.head.time=l),t.flags&512&&(d[0]=l&255,d[1]=l>>>8&255,d[2]=l>>>16&255,d[3]=l>>>24&255,t.check=se(t.check,d,4,0)),l=0,f=0,t.mode=Ri;case Ri:for(;f<16;){if(o===0)break e;o--,l+=i[s++]<<f,f+=8}t.head&&(t.head.xflags=l&255,t.head.os=l>>8),t.flags&512&&(d[0]=l&255,d[1]=l>>>8&255,t.check=se(t.check,d,2,0)),l=0,f=0,t.mode=Si;case Si:if(t.flags&1024){for(;f<16;){if(o===0)break e;o--,l+=i[s++]<<f,f+=8}t.length=l,t.head&&(t.head.extra_len=l),t.flags&512&&(d[0]=l&255,d[1]=l>>>8&255,t.check=se(t.check,d,2,0)),l=0,f=0}else t.head&&(t.head.extra=null);t.mode=ki;case ki:if(t.flags&1024&&(p=t.length,p>o&&(p=o),p&&(t.head&&($=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(s,s+p),$)),t.flags&512&&(t.check=se(t.check,i,p,s)),o-=p,s+=p,t.length-=p),t.length))break e;t.length=0,t.mode=Ci;case Ci:if(t.flags&2048){if(o===0)break e;p=0;do $=i[s+p++],t.head&&$&&t.length<65536&&(t.head.name+=String.fromCharCode($));while($&&p<o);if(t.flags&512&&(t.check=se(t.check,i,p,s)),o-=p,s+=p,$)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Ti;case Ti:if(t.flags&4096){if(o===0)break e;p=0;do $=i[s+p++],t.head&&$&&t.length<65536&&(t.head.comment+=String.fromCharCode($));while($&&p<o);if(t.flags&512&&(t.check=se(t.check,i,p,s)),o-=p,s+=p,$)break e}else t.head&&(t.head.comment=null);t.mode=$i;case $i:if(t.flags&512){for(;f<16;){if(o===0)break e;o--,l+=i[s++]<<f,f+=8}if(l!==(t.check&65535)){e.msg="header crc mismatch",t.mode=J;break}l=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=Ce;break;case Oi:for(;f<32;){if(o===0)break e;o--,l+=i[s++]<<f,f+=8}e.adler=t.check=Ki(l),l=0,f=0,t.mode=Yt;case Yt:if(t.havedict===0)return e.next_out=a,e.avail_out=u,e.next_in=s,e.avail_in=o,t.hold=l,t.bits=f,Rl;e.adler=t.check=1,t.mode=Ce;case Ce:if(n===ml||n===Qt)break e;case Fn:if(t.last){l>>>=f&7,f-=f&7,t.mode=Un;break}for(;f<3;){if(o===0)break e;o--,l+=i[s++]<<f,f+=8}switch(t.last=l&1,l>>>=1,f-=1,l&3){case 0:t.mode=Li;break;case 1:if(Hl(t),t.mode=Jt,n===Qt){l>>>=2,f-=2;break e}break;case 2:t.mode=Ii;break;case 3:e.msg="invalid block type",t.mode=J}l>>>=2,f-=2;break;case Li:for(l>>>=f&7,f-=f&7;f<32;){if(o===0)break e;o--,l+=i[s++]<<f,f+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",t.mode=J;break}if(t.length=l&65535,l=0,f=0,t.mode=Mn,n===Qt)break e;case Mn:t.mode=Hi;case Hi:if(p=t.length,p){if(p>o&&(p=o),p>u&&(p=u),p===0)break e;r.set(i.subarray(s,s+p),a),o-=p,s+=p,u-=p,a+=p,t.length-=p;break}t.mode=Ce;break;case Ii:for(;f<14;){if(o===0)break e;o--,l+=i[s++]<<f,f+=8}if(t.nlen=(l&31)+257,l>>>=5,f-=5,t.ndist=(l&31)+1,l>>>=5,f-=5,t.ncode=(l&15)+4,l>>>=4,f-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=J;break}t.have=0,t.mode=Ni;case Ni:for(;t.have<t.ncode;){for(;f<3;){if(o===0)break e;o--,l+=i[s++]<<f,f+=8}t.lens[E[t.have++]]=l&7,l>>>=3,f-=3}for(;t.have<19;)t.lens[E[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,h={bits:t.lenbits},x=Rt(xl,t.lens,0,19,t.lencode,0,t.work,h),t.lenbits=h.bits,x){e.msg="invalid code lengths set",t.mode=J;break}t.have=0,t.mode=Di;case Di:for(;t.have<t.nlen+t.ndist;){for(;O=t.lencode[l&(1<<t.lenbits)-1],C=O>>>24,M=O>>>16&255,L=O&65535,!(C<=f);){if(o===0)break e;o--,l+=i[s++]<<f,f+=8}if(L<16)l>>>=C,f-=C,t.lens[t.have++]=L;else{if(L===16){for(c=C+2;f<c;){if(o===0)break e;o--,l+=i[s++]<<f,f+=8}if(l>>>=C,f-=C,t.have===0){e.msg="invalid bit length repeat",t.mode=J;break}$=t.lens[t.have-1],p=3+(l&3),l>>>=2,f-=2}else if(L===17){for(c=C+3;f<c;){if(o===0)break e;o--,l+=i[s++]<<f,f+=8}l>>>=C,f-=C,$=0,p=3+(l&7),l>>>=3,f-=3}else{for(c=C+7;f<c;){if(o===0)break e;o--,l+=i[s++]<<f,f+=8}l>>>=C,f-=C,$=0,p=11+(l&127),l>>>=7,f-=7}if(t.have+p>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=J;break}for(;p--;)t.lens[t.have++]=$}}if(t.mode===J)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=J;break}if(t.lenbits=9,h={bits:t.lenbits},x=Rt(gi,t.lens,0,t.nlen,t.lencode,0,t.work,h),t.lenbits=h.bits,x){e.msg="invalid literal/lengths set",t.mode=J;break}if(t.distbits=6,t.distcode=t.distdyn,h={bits:t.distbits},x=Rt(bi,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,h),t.distbits=h.bits,x){e.msg="invalid distances set",t.mode=J;break}if(t.mode=Jt,n===Qt)break e;case Jt:t.mode=Vt;case Vt:if(o>=6&&u>=258){e.next_out=a,e.avail_out=u,e.next_in=s,e.avail_in=o,t.hold=l,t.bits=f,bl(e,_),a=e.next_out,r=e.output,u=e.avail_out,s=e.next_in,i=e.input,o=e.avail_in,l=t.hold,f=t.bits,t.mode===Ce&&(t.back=-1);break}for(t.back=0;O=t.lencode[l&(1<<t.lenbits)-1],C=O>>>24,M=O>>>16&255,L=O&65535,!(C<=f);){if(o===0)break e;o--,l+=i[s++]<<f,f+=8}if(M&&!(M&240)){for(k=C,U=M,X=L;O=t.lencode[X+((l&(1<<k+U)-1)>>k)],C=O>>>24,M=O>>>16&255,L=O&65535,!(k+C<=f);){if(o===0)break e;o--,l+=i[s++]<<f,f+=8}l>>>=k,f-=k,t.back+=k}if(l>>>=C,f-=C,t.back+=C,t.length=L,M===0){t.mode=Bi;break}if(M&32){t.back=-1,t.mode=Ce;break}if(M&64){e.msg="invalid literal/length code",t.mode=J;break}t.extra=M&15,t.mode=zi;case zi:if(t.extra){for(c=t.extra;f<c;){if(o===0)break e;o--,l+=i[s++]<<f,f+=8}t.length+=l&(1<<t.extra)-1,l>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Fi;case Fi:for(;O=t.distcode[l&(1<<t.distbits)-1],C=O>>>24,M=O>>>16&255,L=O&65535,!(C<=f);){if(o===0)break e;o--,l+=i[s++]<<f,f+=8}if(!(M&240)){for(k=C,U=M,X=L;O=t.distcode[X+((l&(1<<k+U)-1)>>k)],C=O>>>24,M=O>>>16&255,L=O&65535,!(k+C<=f);){if(o===0)break e;o--,l+=i[s++]<<f,f+=8}l>>>=k,f-=k,t.back+=k}if(l>>>=C,f-=C,t.back+=C,M&64){e.msg="invalid distance code",t.mode=J;break}t.offset=L,t.extra=M&15,t.mode=Mi;case Mi:if(t.extra){for(c=t.extra;f<c;){if(o===0)break e;o--,l+=i[s++]<<f,f+=8}t.offset+=l&(1<<t.extra)-1,l>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=J;break}t.mode=Ui;case Ui:if(u===0)break e;if(p=_-u,t.offset>p){if(p=t.offset-p,p>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=J;break}p>t.wnext?(p-=t.wnext,y=t.wsize-p):y=t.wnext-p,p>t.length&&(p=t.length),A=t.window}else A=r,y=a-t.offset,p=t.length;p>u&&(p=u),u-=p,t.length-=p;do r[a++]=A[y++];while(--p);t.length===0&&(t.mode=Vt);break;case Bi:if(u===0)break e;r[a++]=t.length,u--,t.mode=Vt;break;case Un:if(t.wrap){for(;f<32;){if(o===0)break e;o--,l|=i[s++]<<f,f+=8}if(_-=u,e.total_out+=_,t.total+=_,_&&(e.adler=t.check=t.flags?se(t.check,r,_,a-_):gt(t.check,r,_,a-_)),_=u,(t.flags?l:Ki(l))!==t.check){e.msg="incorrect data check",t.mode=J;break}l=0,f=0}t.mode=Zi;case Zi:if(t.wrap&&t.flags){for(;f<32;){if(o===0)break e;o--,l+=i[s++]<<f,f+=8}if(l!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=J;break}l=0,f=0}t.mode=Pi;case Pi:x=El;break e;case J:x=yi;break e;case Gi:return vi;case kl:default:return _e}return e.next_out=a,e.avail_out=u,e.next_in=s,e.avail_in=o,t.hold=l,t.bits=f,(t.wsize||_!==e.avail_out&&t.mode<J&&(t.mode<Un||n!==wi))&&Yi(e,e.output,e.next_out,_-e.avail_out),b-=e.avail_in,_-=e.avail_out,e.total_in+=b,e.total_out+=_,t.total+=_,t.wrap&&_&&(e.adler=t.check=t.flags?se(t.check,r,_,e.next_out-_):gt(t.check,r,_,e.next_out-_)),e.data_type=t.bits+(t.last?64:0)+(t.mode===Ce?128:0)+(t.mode===Jt||t.mode===Mn?256:0),(b===0&&_===0||n===wi)&&x===Ye&&(x=Sl),x},Nl=e=>{if(!e||!e.state)return _e;let n=e.state;return n.window&&(n.window=null),e.state=null,Ye},Dl=(e,n)=>{if(!e||!e.state)return _e;const t=e.state;return t.wrap&2?(t.head=n,n.done=!1,Ye):_e},zl=(e,n)=>{const t=n.length;let i,r,s;return!e||!e.state||(i=e.state,i.wrap!==0&&i.mode!==Yt)?_e:i.mode===Yt&&(r=1,r=gt(r,n,t,0),r!==i.check)?yi:(s=Yi(e,n,t,t),s?(i.mode=Gi,vi):(i.havedict=1,Ye))};var Fl=Wi,Ml=Xi,Ul=ji,Bl=Ll,Zl=qi,Pl=Il,Gl=Nl,Kl=Dl,jl=zl,Wl="pako inflate (from Nodeca project)",Te={inflateReset:Fl,inflateReset2:Ml,inflateResetKeep:Ul,inflateInit:Bl,inflateInit2:Zl,inflate:Pl,inflateEnd:Gl,inflateGetHeader:Kl,inflateSetDictionary:jl,inflateInfo:Wl};function Xl(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var ql=Xl;const Ji=Object.prototype.toString,{Z_NO_FLUSH:Ql,Z_FINISH:Yl,Z_OK:St,Z_STREAM_END:Pn,Z_NEED_DICT:Gn,Z_STREAM_ERROR:Jl,Z_DATA_ERROR:Vi,Z_MEM_ERROR:Vl}=je;function kt(e){this.options=Wt.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(e&&e.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15||(n.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ui,this.strm.avail_out=0;let t=Te.inflateInit2(this.strm,n.windowBits);if(t!==St)throw new Error(Ke[t]);if(this.header=new ql,Te.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=mt.string2buf(n.dictionary):Ji.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(t=Te.inflateSetDictionary(this.strm,n.dictionary),t!==St)))throw new Error(Ke[t])}kt.prototype.push=function(e,n){const t=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(n===~~n?a=n:a=n===!0?Yl:Ql,Ji.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),s=Te.inflate(t,a),s===Gn&&r&&(s=Te.inflateSetDictionary(t,r),s===St?s=Te.inflate(t,a):s===Vi&&(s=Gn));t.avail_in>0&&s===Pn&&t.state.wrap>0&&e[t.next_in]!==0;)Te.inflateReset(t),s=Te.inflate(t,a);switch(s){case Jl:case Vi:case Gn:case Vl:return this.onEnd(s),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||s===Pn))if(this.options.to==="string"){let u=mt.utf8border(t.output,t.next_out),l=t.next_out-u,f=mt.buf2string(t.output,u);t.next_out=l,t.avail_out=i-l,l&&t.output.set(t.output.subarray(u,u+l),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===St&&o===0)){if(s===Pn)return s=Te.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0},kt.prototype.onData=function(e){this.chunks.push(e)},kt.prototype.onEnd=function(e){e===St&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Wt.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Kn(e,n){const t=new kt(n);if(t.push(e),t.err)throw t.msg||Ke[t.err];return t.result}function ef(e,n){return n=n||{},n.raw=!0,Kn(e,n)}var tf=kt,nf=Kn,rf=ef,af=Kn,sf=je,of={Inflate:tf,inflate:nf,inflateRaw:rf,ungzip:af,constants:sf};const{Deflate:lf,deflate:ff,deflateRaw:uf,gzip:cf}=pl,{Inflate:hf,inflate:df,inflateRaw:_f,ungzip:pf}=of;var gf=lf,bf=ff,wf=uf,yf=cf,vf=hf,Af=df,xf=_f,mf=pf,Ef=je,Rf={Deflate:gf,deflate:bf,deflateRaw:wf,gzip:yf,Inflate:vf,inflate:Af,inflateRaw:xf,ungzip:mf,constants:Ef},Sf=function e(n,t){var i=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,r=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,a=/^0x[0-9a-f]+$/i,o=/^0/,u=function(L){return e.insensitive&&(""+L).toLowerCase()||""+L},l=u(n).replace(r,"")||"",f=u(t).replace(r,"")||"",b=l.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),_=f.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=parseInt(l.match(a),16)||b.length!==1&&l.match(s)&&Date.parse(l),y=parseInt(f.match(a),16)||p&&f.match(s)&&Date.parse(f)||null,A,O;if(y){if(p<y)return-1;if(p>y)return 1}for(var C=0,M=Math.max(b.length,_.length);C<M;C++){if(A=!(b[C]||"").match(o)&&parseFloat(b[C])||b[C]||0,O=!(_[C]||"").match(o)&&parseFloat(_[C])||_[C]||0,isNaN(A)!==isNaN(O))return isNaN(A)?1:-1;if(typeof A!=typeof O&&(A+="",O+=""),A<O)return-1;if(A>O)return 1}return 0},jn=rn(Sf);const ea="AAK"+Object.keys({light:"mapbox://styles/mapbox/light-v10",dark:"mapbox://styles/vsp-tu-berlin/ckek59op0011219pbwfar1rex",transparentLight:"mapbox://styles/vsp-tu-berlin/clgxnk7m500dt01p687w8e693",transparentDark:"mapbox://styles/vsp-tu-berlin/clgwrqa0w00av01pg5jox0a35"}).length+"QRQ0EldfvmCW4Cyu";jn.insensitive=!0;const kf=/.*\.(avro|dbf|gpkg|gz|h5|jpg|jpeg|omx|png|shp|shx|sqlite|zip|zst)$/,Cf=["simwrapper",".simwrapper"],Ct={};class Tf{baseUrl;urlId;slug;needsAuth;fsHandle;store;isGithub;isOMX;type;constructor(n,t){this.urlId=n.slug,this.slug=n.slug,this.needsAuth=!!n.needPassword,this.fsHandle=n.handle||null,this.store=t||null,this.isGithub=!!n.isGithub,this.isOMX=!!n.omx,this.type=0,this.fsHandle&&(this.type=1),this.isGithub&&(this.type=2),this.isOMX&&(this.type=3),this.baseUrl=n.baseURL,n.baseURL.endsWith("/")||(this.baseUrl+="/"),Ct[this.urlId]||(Ct[this.urlId]={})}hasHandle(){return!!this.fsHandle}async getChromePermission(n){return n&&await n.queryPermission({mode:"read"})!=="granted"&&this.store?await new Promise(s=>{this.store.commit("setFileHandleForPermissionRequest",{handle:n,resolve:s})}):!0}clearCache(){Ct[this.urlId]={}}cleanURL(n){let t=this.baseUrl+n.replace(/^0-9a-zA-Z_\-\/:+/i,"");return t=t.replaceAll("//","/"),t=t.replaceAll("//","/"),t=t.replace("https:/","https://"),t=t.replace("http:/","http://"),t=new URL(t).href,t}async _getFileResponse(n){switch(this.type){case 1:return this._getFileFromChromeFileSystem(n);case 2:return this._getFileFromGitHub(n);case 3:return this._getFileFromAzure(n);case 0:default:return this._getFileFetchResponse(n)}}async _getFileFetchResponse(n){const t=this.cleanURL(n),i={},r=new Request(t,{headers:i});return await fetch(r).then(a=>{if(a.status!=200)throw console.log("Status:",a.status),a;return a})}async _getDirectoryFromAzure(n){let t=n.replace(/^0-9a-zA-Z_\-\/:+/i,"");t=t.replaceAll("//","/"),t=t.replaceAll("//","/");let i=`${this.baseUrl}list/${this.slug}?prefix=${t}`;const r=new URL(i).href;console.log({fullUrl:r});const s={};if(this.needsAuth){let l=localStorage.getItem(`auth-token-${this.slug}`);if(l||(l=prompt("This server requires an access token to continue")),l)localStorage.setItem(`auth-token-${this.slug}`,l),s.AZURETOKEN=l;else return console.log("bye"),{dirs:[],files:[],handles:{}}}const a=new Request(r,{headers:s}),o=await fetch(a);if(o.status==400){let l=prompt("Authorization failure. This server requires a valid access token to continue");return l?(localStorage.setItem(`auth-token-${this.slug}`,l),s.AZURETOKEN=l,await this._getDirectoryFromAzure(n)):(console.log("bye2"),{dirs:[],files:[],handles:{}})}if(o.status!=200)throw console.log("Status:",o.status),o;const u=await o.json();return console.log(u),u}getSlug(){return this.slug}async _getFileFromAzure(n){let t=n.replace(/^0-9a-zA-Z_\-\/:+/i,"");t=t.replaceAll("//","/"),t=t.replaceAll("//","/");let i=`${this.baseUrl}file/${this.slug}?prefix=${t}`;const r=new URL(i).href;console.log(r);const s={},a=new Request(r,{headers:s}),o=await fetch(a);if(o.status!=200)throw console.log("Status:",o.status),o;return o}async _getFileFromChromeFileSystem(n){let t=n.replace(/^0-9a-zA-Z_\-\/:+/i,"");t=t.replaceAll("//","/"),t=new URL(`http://local/${t}`).href,t=t.substring(13);const i=t.lastIndexOf("/"),r=t.substring(0,i),s=decodeURIComponent(t.substring(i+1)),o=(await this.getDirectory(r)).handles[s];if(!o)throw Error(`File ${s} missing`);const u=await o.getFile();return u.json=()=>new Promise(async(l,f)=>{const b=await u.text(),_=JSON.parse(b);l(_)}),u.blob=()=>new Promise(async(l,f)=>{l(u)}),new Promise((l,f)=>{l(u)})}async _getFileFromGitHub(n){let t=n.replace(/^0-9a-zA-Z_\-\/:+/i,"");t=t.replaceAll("//","/"),t.startsWith("/")&&(t=t.slice(1));const i=t.split("/").filter(_=>!!_);if(i.length<2)return console.log("no."),new Promise((_,p)=>{_(null)});const r=`${i[0]}/${i[1]}`;let s=`https://api.github.com/repos/${r}/contents/`;i.shift(),i.shift(),s+=i.join("/");const u={Authorization:`Bearer ${["11","pat","github"].reverse().join("_")}${ea}_SyKezxQUoOKXAx3HwTH51I4funGUSFfxdbGG2X4l3WvUHIW62GOOmO0OMWZ`};let l=await await fetch(s,{headers:u}).then(_=>_.json()),f=l.content;if(f||(s=`https://api.github.com/repos/${r}/git/blobs/${l.sha}`,l=await await fetch(s,{headers:u}).then(_=>_.json()),f=l.content),l.encoding=="base64"){const _=Uint8Array.from(atob(l.content),p=>p.charCodeAt(0));kf.test(n.toLocaleLowerCase())?f=_:f=new TextDecoder().decode(_)}else l.encoding=="utf-8"?f=new TextDecoder().decode(l.content):f=l.content;return{text:()=>new Promise((_,p)=>{_(f)}),json:()=>new Promise(async(_,p)=>{const y=JSON.parse(f);_(y)}),blob:()=>new Promise(async(_,p)=>{_(new Blob([f],{type:"application/octet-stream"}))})}}async _getDirectoryFromGitHub(n){let t=n.replace(/^0-9a-zA-Z_\-\/:+/i,"");t=t.replaceAll("//","/"),t.startsWith("/")&&(t=t.slice(1));const i={dirs:[],files:[],handles:{}},r=t.split("/").filter(f=>!!f);if(r.length<2)return i;let s=`https://api.github.com/repos/${r[0]}/${r[1]}/contents/`;r.shift(),r.shift(),s+=r.join("/");const u={Authorization:`Bearer ${["11","pat","github"].reverse().join("_")}${ea}_SyKezxQUoOKXAx3HwTH51I4funGUSFfxdbGG2X4l3WvUHIW62GOOmO0OMWZ`};return(await await fetch(s,{headers:u}).then(f=>f.json())).forEach(f=>{f.type=="file"&&i.files.push(f.name),f.type=="dir"&&i.dirs.push(f.name)}),i}async getFileText(n){return(await this._getFileResponse(n)).text()}async getFileJson(n){const r=await(await(await this._getFileResponse(n)).blob()).arrayBuffer(),s=this.gUnzip(r),a=new TextDecoder("utf-8").decode(s);return JSON.parse(a)}async getFileBlob(n){return(await this._getFileResponse(n)).blob()}async getFileStream(n){let t;switch(this.type){case 1:return t=await this._getFileFromChromeFileSystem(n).then(i=>i.blob()).then(i=>i.stream()),t;case 0:return t=await this._getFileFetchResponse(n).then(i=>i.body),t;default:throw Error("Not implemented")}}async getDirectory(n){let t=n.replaceAll("//","/");t.endsWith("/")||(t+="/");const i=Ct[this.urlId][t];if(i)return console.log("cached!"),i;t=t.replaceAll("/./","/");try{let r;switch(this.type){case 1:r=await this._getDirectoryFromHandle(t);break;case 2:r=await this._getDirectoryFromGitHub(t);break;case 3:r=await this._getDirectoryFromAzure(t);break;case 0:default:r=await this._getDirectoryFromURL(t);break}return r.dirs.sort((s,a)=>jn(s,a)),r.files.sort((s,a)=>jn(s,a)),Ct[this.urlId][t]=r,r}catch(r){throw Error(""+r)}}async _getDirectoryFromHandle(n,t){const i={files:[],dirs:[],handles:{}};if(!this.fsHandle||!await this.getChromePermission(this.fsHandle))return i;let s=n.split("/").filter(l=>!!l);function a(l){const f=l.indexOf("..");if(f<=0)return l;const b=l.filter((_,p)=>p!==f-1&&p!==f);return a(b)}const o=a(s);let u=this.fsHandle;if(o.length)for(const l of o){let f=!1;for await(let[b,_]of u)if(b===l){u=_,f=!0;break}if(!f)throw Error(`Could not find folder "${l}"`)}for await(let l of u.values())i.handles&&(i.handles[l.name]=l),l.kind==="file"?i.files.push(l.name):i.dirs.push(l.name);return i}async _getDirectoryFromURL(n){const i=await(await this._getFileResponse(n).then()).text();return this.buildListFromHtml(i)}async findAllYamlConfigs(n){const t={dashboards:{},topsheets:{},vizes:{},configs:{}},i=[];let r="/";const a=(n.startsWith("/")?n:"/"+n).split("/");for(const b of a.slice(0,a.length-1)){r=`${r}${b}/`.replaceAll("//","/");try{const{dirs:_}=await this.getDirectory(r);for(const p of _)Cf.includes(p.toLocaleLowerCase())&&i.push(`${r}/${p}`.replaceAll("//","/"))}catch{}}i.push(n);const o="dashboard*.y?(a)ml",u="(topsheet|table)*.y?(a)ml",l="viz*.y?(a)ml",f="simwrapper-config.y?(a)ml";for(const b of i){const{files:_}=await this.getDirectory(b);Ft.match(_,o).map(p=>t.dashboards[p]=`${b}/${p}`.replaceAll("//","/")),Ft.match(_,u).map(p=>t.topsheets[p]=`${b}/${p}`.replaceAll("//","/")),Ft.match(_,l).map(p=>t.vizes[p]=`${b}/${p}`.replaceAll("//","/")),Ft.match(_,f).map(p=>t.configs[p]=`${b}/${p}`.replaceAll("//","/"))}return t}buildListFromHtml(n){return n.indexOf("SimpleWebServer")>-1?this.buildListFromSimpleWebServer(n):n.indexOf("<ul>")>-1?this.buildListFromSVN(n):n.indexOf('<ul id="files">')>-1?this.buildListFromNpxServe(n):n.indexOf("<table>")>-1?this.buildListFromApache24(n):n.indexOf(`
<a `)>-1?this.buildListFromNGINX(n):{dirs:[],files:[],handles:{}}}buildListFromSimpleWebServer(n){const t=/">(.*?)<\/a/,i=[],r=[],s=n.split(`
`);for(const a of s){if(a.indexOf('<li><a href="')<0)continue;const u=a.match(t);if(!u)continue;const l=u[1];l.endsWith("/")?i.push(l.substring(0,l.length-1)):r.push(l)}return{dirs:i,files:r,handles:{}}}buildListFromNpxServe(n){const t=/"(.*?)"/;let i=[],r=[];const s=n.split("</li>").map(a=>a.slice(a.lastIndexOf("<li")));for(const a of s){const o=a.indexOf('<li> <a href="');if(o<0||o>512)continue;const u=a.match(t);if(!u)continue;let l=u[1];l=l.replaceAll("&#47;","/"),l!=="/"&&l!=="../"&&(l.endsWith("/")?i.push(l.substring(0,l.length-1)):r.push(l))}return i=i.map(a=>a.slice(1+a.lastIndexOf("/"))),r=r.map(a=>a.slice(1+a.lastIndexOf("/"))),{dirs:i,files:r,handles:{}}}buildListFromSVN(n){const t=/"(.*?)"/,i=[],r=[],s=n.split(`
`);for(const a of s){if(a.indexOf('<li><a href="')<0)continue;const u=a.match(t);if(!u)continue;let l=u[1];l!=="../"&&(l.startsWith("./")&&(l=l.substring(2)),l.endsWith("/")?i.push(l.substring(0,l.length-1)):r.push(l))}return{dirs:i,files:r,handles:{}}}buildListFromApache24(n){const t=/"(.*?)"/,i=[],r=[],s=n.split(`
`);for(const a of s){if(a.indexOf('<th "')>-1||a.indexOf("[PARENTDIR]")>-1)continue;const o=a.indexOf('<td><a href="');if(o<0)continue;const u=a.substring(o).match(t);if(!u)continue;const l=u[1];l!=="../"&&(l.endsWith("/")?i.push(l.substring(0,l.length-1)):r.push(l))}return{dirs:i,files:r,handles:{}}}buildListFromNGINX(n){const t=/"(.*?)"/,i=[],r=[],s=n.split(`
`);for(const a of s){const o=a.indexOf('<a href="');if(o<0)continue;const u=a.substring(o).match(t);if(!u)continue;const l=u[1];l!=="../"&&(l.endsWith("/")?i.push(l.substring(0,l.length-1)):r.push(l))}return{dirs:i,files:r,handles:{}}}gUnzip(n){const t=new Uint8Array(n.slice(0,2));return t[0]===31&&t[1]===139?this.gUnzip(Rf.inflate(n)):n}}const ta=self;let na,ra,Je=[],Wn,Xn,en={},tn={},ia={};onmessage=async({data:{config:e,filePath:n,fileSystem:t}})=>{console.log("WORKER:",n),na=new Tf(t),ra=n;try{const i=await Of();Je=i.meta.fields,$f(i.data),ta.postMessage({rowName:Wn,colName:Xn,headers:Je,zoneData:en,dailyZoneData:tn,dailyLinkData:ia,finished:!0})}catch(i){ta.postMessage({error:""+i})}};function $f(e){Wn=Je[0],Xn=Je[1],Je=Je.slice(2);for(const n of e){const t=Je.map(a=>parseFloat(n[a])),i=n[Wn],r=n[Xn];en[i]||(en[i]={}),en[i][r]=t;const s=t.reduce((a,o)=>Number.isFinite(o)?a+o:a,0);if(tn[i]||(tn[i]=[]),tn[i][r]=s,s!==0){const a=`${i}:${r}`;ia[a]={orig:i,dest:r,daily:s,values:t}}}}async function Of(){const e=await na.getFileText(ra);return fa.parse(e,{comments:"#",delimitersToGuess:[";","	",","," "],dynamicTyping:!0,header:!0,skipEmptyLines:!0})}})();
